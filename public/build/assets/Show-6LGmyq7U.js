import{u as A,Q as B,l as y,m as d,o as i,f as t,n as w,q as C,t as n,k as e,z as S,a4 as j,G as R,e as z,w as k,i as l,aL as E,J as N,p as g}from"./vendor-CMULZhQa.js";import{V as T,_ as I}from"./DefaultLayout-17nvjrKQ.js";import{R as P,_ as U}from"./CommentThread-ByawYBWr.js";import{a as q}from"./vendor-axios-jn5v1YEJ.js";import"./vendor-lodash-3g6-h99u.js";import"./ResponsiveNavLink-BBt1gw6L.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./LogoutButton-BnL5i-Bj.js";import"./ScrollButtons-DjRj6zOj.js";import"./app-BmuzEqX8.js";const F={itemprop:"interactionStatistic",itemscope:"",itemtype:"http://schema.org/InteractionCounter"},G=t("meta",{itemprop:"interactionType",content:"http://schema.org/LikeAction"},null,-1),J=["content"],O=["title"],Q=t("path",{d:"M3,9H1a1,1,0,0,0-1,1V22a1,1,0,0,0,1,1H4V10A1,1,0,0,0,3,9Z"},null,-1),Y=t("path",{d:"M21.882,8.133A2.986,2.986,0,0,0,21,8H15V5c0-3.824-2.589-4.942-3.958-5a1.017,1.017,0,0,0-.734.277A1,1,0,0,0,10,1V5.638l-4,4.8V23H18.23A2.985,2.985,0,0,0,21.1,20.882l2.769-9A3,3,0,0,0,21.882,8.133Z"},null,-1),K=[Q,Y],W={key:0,class:"ml-1 font-semibold text-xs dark:text-slate-100"},X={__name:"LikeButtonVideo",setup(Z){const{t:a}=A(),{video:m}=B().props,o=y(m.likes_count),r=y(m.already_liked||!1),b=()=>{r.value||q.post(route("videos.like",m.id)).then(s=>{s.data.success?(o.value=s.data.likes,r.value=!0):alert(s.data.message||a("alertLikeAlready"))}).catch(s=>{var c;((c=s.response)==null?void 0:c.status)===401?alert(a("alertLikeAuthRequired")):(console.error("Ошибка лайка:",s),alert(a("alertLikeError")))})};return(s,c)=>(i(),d("div",F,[G,t("meta",{itemprop:"userInteractionCount",content:o.value},null,8,J),t("div",{title:e(a)("like"),class:"w-fit flex flex-row items-center justify-center cursor-pointer"},[(i(),d("svg",{onClick:b,class:C(["w-4 h-4 fill-current transition-all duration-200 transform",r.value?"text-red-500 dark:text-red-300":"text-amber-500 dark:text-amber-400 hover:text-yellow-300 dark:hover:text-yellow-200 active:text-yellow-300 dark:active:text-yellow-100"]),viewBox:"0 0 24 24"},K,2)),o.value>0?(i(),d("span",W,n(o.value),1)):w("",!0)],8,O)]))}},tt=["content"],et=["content"],ot=["content"],st=["content"],nt=t("meta",{name:"viewport",content:"width=device-width, initial-scale=1"},null,-1),at=["content"],lt=["content"],it=t("meta",{property:"og:type",content:"video"},null,-1),rt=["content"],ct=["content"],dt=["content"],mt=t("meta",{name:"twitter:card",content:"summary_large_image"},null,-1),ut=["content"],_t=["content"],ht=["content"],pt=["content"],xt=["content"],vt=["content"],ft={class:"text-sm mb-4","aria-label":"Breadcrumb"},kt={class:"list-reset flex items-center space-x-0"},gt=t("li",null,[t("span",{class:"mx-1 text-slate-900 dark:text-slate-100"},"/")],-1),yt={class:"text-slate-900 dark:text-slate-100"},wt={class:"flex items-center justify-center my-4 text-center font-bolder text-xl text-slate-900 dark:text-slate-100"},bt=t("svg",{class:"w-4 h-4 fill-current text-blue-400 dark:text-indigo-300 mr-2",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M0 0h2v16H0V0Zm14 0h2v16h-2V0Zm-3 7H5c-.6 0-1-.4-1-1V1c0-.6.4-1 1-1h6c.6 0 1 .4 1 1v5c0 .6-.4 1-1 1ZM6 5h4V2H6v3Zm5 11H5c-.6 0-1-.4-1-1v-5c0-.6.4-1 1-1h6c.6 0 1 .4 1 1v5c0 .6-.4 1-1 1Zm-5-2h4v-3H6v3Z"})],-1),Vt=["title"],Ht={class:"flex-1"},$t={class:"flex flex-row items-center justify-between"},Mt=["datetime"],Lt=t("svg",{class:"w-3 h-3 fill-current shrink-0 mr-1",viewBox:"0 0 16 16"},[t("path",{d:"M15 2h-2V0h-2v2H9V0H7v2H5V0H3v2H1a1 1 0 00-1 1v12a1 1 0 001 1h14a1 1 0 001-1V3a1 1 0 00-1-1zm-1 12H2V6h12v8z"})],-1),At={key:0,class:"flex items-center my-4 tracking-wide text-sm font-semibold text-black dark:text-white"},Bt=["innerHTML"],It={__name:"Show",setup(Z){const{t:a}=A(),{appUrl:m,video:o,recommendedVideos:r,locale:b,siteSettings:s,user:c}=B().props,V=y(!1);let u;const H=()=>{V.value=document.documentElement.classList.contains("dark")};S(()=>{H(),u=new MutationObserver(H),u.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]})}),j(()=>{u&&u.disconnect()});const D=R(()=>V.value?s.PublicDarkBackgroundColor:s.PublicLightBackgroundColor),f=_=>{const h=new Date(_),p=String(h.getDate()).padStart(2,"0"),x=String(h.getMonth()+1).padStart(2,"0"),v=h.getFullYear();return`${p}.${x}.${v}`};return(_,h)=>(i(),z(I,{title:e(o).title,"can-login":_.$page.props.canLogin,"can-register":_.$page.props.canRegister},{default:k(()=>[l(e(E),null,{default:k(()=>{var p,x,v,$,M,L;return[t("title",null,n(e(o).title),1),t("meta",{name:"title",content:e(o).title||""},null,8,tt),t("meta",{name:"description",content:e(o).meta_desc||""},null,8,et),t("meta",{name:"keywords",content:e(o).meta_keywords||""},null,8,ot),t("meta",{name:"author",content:e(o).author||""},null,8,st),nt,t("meta",{property:"og:title",content:e(o).title||""},null,8,at),t("meta",{property:"og:description",content:e(o).meta_desc||""},null,8,lt),it,t("meta",{property:"og:url",content:`/videos/${e(o).url}`},null,8,rt),t("meta",{property:"og:image",content:((x=(p=e(o).images)==null?void 0:p[0])==null?void 0:x.url)||""},null,8,ct),t("meta",{property:"og:locale",content:e(o).locale||"ru_RU"},null,8,dt),mt,t("meta",{name:"twitter:title",content:e(o).title||""},null,8,ut),t("meta",{name:"twitter:description",content:e(o).meta_desc||""},null,8,_t),t("meta",{name:"twitter:image",content:(($=(v=e(o).images)==null?void 0:v[0])==null?void 0:$.url)||""},null,8,ht),t("meta",{itemprop:"name",content:e(o).title||""},null,8,pt),t("meta",{itemprop:"description",content:e(o).meta_desc||""},null,8,xt),t("meta",{itemprop:"image",content:((L=(M=e(o).images)==null?void 0:M[0])==null?void 0:L.url)||""},null,8,vt)]}),_:1}),t("div",{class:C(["flex-1 p-4",[D.value]])},[t("nav",ft,[t("ol",kt,[t("li",null,[l(e(N),{href:"/",class:"hover:underline text-slate-900 dark:text-slate-100"},{default:k(()=>[g(n(e(a)("home")),1)]),_:1})]),gt,t("li",yt,n(e(o).title),1)])]),t("h1",wt,[bt,g(" "+n(e(o).title)+" ",1),t("div",{class:"ml-2 w-6 h-5 flex items-center justify-center rounded-full text-[9px] font-semibold text-black dark:text-white bg-slate-100 dark:bg-slate-700",title:e(a)("views")},n(e(o).views),9,Vt)]),t("div",Ht,[l(T,{video:e(o)},null,8,["video"]),t("div",$t,[t("time",{datetime:f(e(o).published_at),class:"flex items-center justify-start opacity-75 text-left text-xs font-semibold text-slate-600 dark:text-slate-400"},[Lt,g(" "+n(e(a)("publishedAt"))+": "+n(f(e(o).published_at)),1)],8,Mt),l(X,{"already-liked":e(o).already_liked},null,8,["already-liked"])]),e(o).short?(i(),d("p",At,n(e(o).short),1)):w("",!0),e(o).description?(i(),d("div",{key:1,class:"w-full mx-auto my-4 dark:text-slate-200",innerHTML:e(o).description,itemprop:"articleBody"},null,8,Bt)):w("",!0)]),l(P,{videos:e(r),formatDate:f},null,8,["videos"]),l(U,{"commentable-type":"App\\Models\\Admin\\Video\\Video","commentable-id":e(o).id,"auth-user":e(c)},null,8,["commentable-id","auth-user"])],2)]),_:1},8,["title","can-login","can-register"]))}};export{It as default};
