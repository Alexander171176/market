import{y as U,u as z,T as B,e as C,o as F,w as d,f as s,i as l,p as _,t as m,k as e,A as v,q as L}from"./vendor-gheHEdqg.js";import{_ as q,t as D}from"./MetatagsButton-45NQC9Zn.js";import{A as H}from"./AdminLayout-DX8XUeLo.js";import{T as I}from"./TitlePage-Fnu_rZTs.js";import{_ as w}from"./DefaultButton-FyNer1Yu.js";import{_ as f,a as g}from"./InputText-IOnQSMlX.js";import{_ as c}from"./InputError-CIFa2r6z.js";import{_ as O}from"./PrimaryButton-D6YF1qU9.js";import{_ as S,a as A}from"./TinyEditor-BX0RDEAB.js";import{_ as y}from"./MetaDescTextarea-BG2a4CzK.js";import{_ as E}from"./ClearMetaButton-BXJkpKQc.js";import{_ as N,a as P,b as K}from"./InputNumber-CWLxaT_B.js";import{_ as G}from"./DescriptionTextarea-Ov3qDgvB.js";import"./vendor-axios-jn5v1YEJ.js";import"./vendor-lodash-DlPAqqwV.js";import"./sidebarIcons-4a0tifbk.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ResponsiveNavLink-rBqbn9MM.js";import"./ScrollButtons-CW8XMUmz.js";import"./app-C-GmA_Q4.js";import"./auth-image-XbvYdkSi.js";const J={class:"px-4 sm:px-6 lg:px-8 py-8 w-full max-w-12xl mx-auto"},Q={class:"p-4 bg-slate-50 dark:bg-slate-700 border border-blue-400 dark:border-blue-200 shadow-lg shadow-gray-500 dark:shadow-slate-400 bg-opacity-95 dark:bg-opacity-95"},R={class:"sm:flex sm:justify-between sm:items-center mb-2"},W=s("svg",{class:"w-4 h-4 fill-current text-slate-100 shrink-0 mr-2",viewBox:"0 0 16 16"},[s("path",{d:"M4.3 4.5c1.9-1.9 5.1-1.9 7 0 .7.7 1.2 1.7 1.4 2.7l2-.3c-.2-1.5-.9-2.8-1.9-3.8C10.1.4 5.7.4 2.9 3.1L.7.9 0 7.3l6.4-.7-2.1-2.1zM15.6 8.7l-6.4.7 2.1 2.1c-1.9 1.9-5.1 1.9-7 0-.7-.7-1.2-1.7-1.4-2.7l-2 .3c.2 1.5.9 2.8 1.9 3.8 1.4 1.4 3.1 2 4.9 2 1.8 0 3.6-.7 4.9-2l2.2 2.2.8-6.4z"})],-1),X=s("div",{class:"grid grid-flow-col sm:auto-cols-max justify-start sm:justify-end gap-2"},null,-1),Y={class:"mb-3 flex justify-between flex-col lg:flex-row items-center gap-4"},Z={class:"flex flex-row items-center gap-2"},ee={class:"flex flex-row items-center w-auto"},te={class:"flex flex-row items-center gap-2"},se={class:"h-8 flex items-center"},le={class:"mb-3 flex flex-col items-start"},ae={class:"mb-3 flex flex-col items-start"},oe={class:"flex justify-between w-full"},re=s("span",{class:"text-red-500 dark:text-red-300 font-semibold"},"*",-1),ie={class:"text-md text-gray-900 dark:text-gray-400 mt-1"},me={class:"mb-3 flex flex-col items-start"},de=s("span",{class:"text-red-500 dark:text-red-300 font-semibold"},"*",-1),ne={class:"mb-3 flex flex-col items-start"},ce={class:"flex justify-between w-full"},ue={class:"text-md text-gray-900 dark:text-gray-400 mt-1"},fe={class:"mb-3 flex flex-col items-start"},_e={class:"mb-3 flex flex-col items-start"},ge={class:"flex justify-between w-full"},pe={class:"text-md text-gray-900 dark:text-gray-400 mt-1"},xe={class:"mb-3 flex flex-col items-start"},he={class:"flex justify-between w-full"},ve={class:"text-md text-gray-900 dark:text-gray-400 mt-1"},we={class:"mb-3 flex flex-col items-start"},ye={class:"flex justify-between w-full"},be={class:"text-md text-gray-900 dark:text-gray-400 mt-1"},Ve={class:"flex justify-end mt-4"},ke=s("svg",{class:"w-4 h-4 fill-current text-gray-500 shrink-0 mr-2",viewBox:"0 0 16 16"},[s("path",{d:"M8 0C3.58 0 0 3.58 0 8s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8zm3 9H5V7h6v2z"})],-1),Me=s("svg",{class:"w-4 h-4 fill-current text-slate-600 shrink-0 mr-2",viewBox:"0 0 16 16"},[s("path",{d:"M13 7h2v6a1 1 0 01-1 1H4v2l-4-3 4-3v2h9V7zM3 9H1V3a1 1 0 011-1h10V0l4 3-4 3V4H3v5z"})],-1),$e={class:"flex items-center justify-center mt-4"},je=s("svg",{class:"w-4 h-4 fill-current text-slate-100 shrink-0 mr-2",viewBox:"0 0 16 16"},[s("path",{d:"M4.3 4.5c1.9-1.9 5.1-1.9 7 0 .7.7 1.2 1.7 1.4 2.7l2-.3c-.2-1.5-.9-2.8-1.9-3.8C10.1.4 5.7.4 2.9 3.1L.7.9 0 7.3l6.4-.7-2.1-2.1zM15.6 8.7l-6.4.7 2.1 2.1c-1.9 1.9-5.1 1.9-7 0-.7-.7-1.2-1.7-1.4-2.7l-2 .3c.2 1.5.9 2.8 1.9 3.8 1.4 1.4 3.1 2 4.9 2 1.8 0 3.6-.7 4.9-2l2.2 2.2.8-6.4z"})],-1),Te=s("svg",{class:"w-4 h-4 fill-current text-slate-100",viewBox:"0 0 16 16"},[s("path",{d:"M14.3 2.3L5 11.6 1.7 8.3c-.4-.4-1-.4-1.4 0-.4.4-.4 1 0 1.4l4 4c.2.2.4.3.7.3.3 0 .5-.1.7-.3l10-10c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0z"})],-1),We={__name:"Edit",props:{tag:{type:Object,required:!0}},setup(b){var h;const x=U(),{t:r}=z(),n=b,t=B({_method:"PUT",sort:n.tag.sort??0,icon:n.tag.icon??"",name:(h=n.tag)==null?void 0:h.name,locale:n.tag.locale??"",slug:n.tag.slug??"",short:n.tag.short??"",description:n.tag.description??"",meta_title:n.tag.meta_title??"",meta_keywords:n.tag.meta_keywords??"",meta_desc:n.tag.meta_desc??"",activity:!!(n.tag.activity??!1)}),V=()=>{t.name&&(t.slug=D(t.name.toLowerCase()))},p=(i,a,o=!1)=>{if(i.length<=a)return i;const u=i.substr(0,i.lastIndexOf(" ",a));return o?`${u}...`:u},k=()=>{t.meta_title="",t.meta_keywords="",t.meta_desc=""},M=()=>{if(t.name&&!t.meta_title&&(t.meta_title=p(t.name,160)),!t.meta_keywords&&t.short){let i=t.short.replace(/(<([^>]+)>)/gi,"");i=i.replace(/[.,!?;:()\[\]{}"'«»]/g,"");const o=i.split(/\s+/).filter(u=>u&&u.length>=3).map(u=>u.toLowerCase()).filter((u,j,T)=>T.indexOf(u)===j).join(", ");t.meta_keywords=p(o,255)}if(t.short&&!t.meta_desc){const i=t.short.replace(/(<([^>]+)>)/gi,"");t.meta_desc=p(i,200,!0)}},$=()=>{t.transform(i=>({...i,activity:i.activity?1:0})),t.put(route("admin.tags.update",n.tag.id),{errorBag:"editTag",preserveScroll:!0,onSuccess:()=>{x.success("Тег успешно обновлен!")},onError:i=>{console.error("Не удалось отправить форму:",i);const a=i[Object.keys(i)[0]];x.error(a||"Пожалуйста, проверьте правильность заполнения полей.")}})};return(i,a)=>(F(),C(H,{title:e(r)("editTag")},{header:d(()=>[l(I,null,{default:d(()=>[_(m(e(r)("editTag"))+" ID:"+m(n.tag.id),1)]),_:1})]),default:d(()=>[s("div",J,[s("div",Q,[s("div",R,[l(w,{href:i.route("admin.tags.index")},{icon:d(()=>[W]),default:d(()=>[_(" "+m(e(r)("back")),1)]),_:1},8,["href"]),X]),s("form",{onSubmit:v($,["prevent"]),class:"p-3 w-full"},[s("div",Y,[s("div",Z,[l(N,{modelValue:e(t).activity,"onUpdate:modelValue":a[0]||(a[0]=o=>e(t).activity=o)},null,8,["modelValue"]),l(P,{for:"activity",text:e(r)("activity"),class:"text-sm h-8 flex items-center"},null,8,["text"])]),s("div",ee,[l(S,{modelValue:e(t).locale,"onUpdate:modelValue":a[1]||(a[1]=o=>e(t).locale=o),errorMessage:e(t).errors.locale},null,8,["modelValue","errorMessage"]),l(c,{class:"mt-2 lg:mt-0",message:e(t).errors.locale},null,8,["message"])]),s("div",te,[s("div",se,[l(f,{for:"sort",value:e(r)("sort"),class:"text-sm"},null,8,["value"])]),l(K,{id:"sort",type:"number",modelValue:e(t).sort,"onUpdate:modelValue":a[2]||(a[2]=o=>e(t).sort=o),autocomplete:"sort",class:"w-full lg:w-28"},null,8,["modelValue"]),l(c,{class:"mt-2 lg:mt-0",message:e(t).errors.sort},null,8,["message"])])]),s("div",le,[l(f,{for:"icon",value:e(r)("svg")},null,8,["value"]),l(G,{modelValue:e(t).icon,"onUpdate:modelValue":a[3]||(a[3]=o=>e(t).icon=o),class:"w-full"},null,8,["modelValue"]),l(c,{class:"mt-2",message:e(t).errors.icon},null,8,["message"])]),s("div",ae,[s("div",oe,[l(f,{for:"name"},{default:d(()=>[re,_(" "+m(e(r)("name")),1)]),_:1}),s("div",ie,m(e(t).name.length)+" / 100 "+m(e(r)("characters")),1)]),l(g,{id:"name",type:"text",modelValue:e(t).name,"onUpdate:modelValue":a[4]||(a[4]=o=>e(t).name=o),maxlength:"100",required:"",autocomplete:"name"},null,8,["modelValue"]),l(c,{class:"mt-2",message:e(t).errors.name},null,8,["message"])]),s("div",me,[l(f,{for:"slug"},{default:d(()=>[de,_(" "+m(e(r)("url")),1)]),_:1}),l(g,{id:"slug",type:"text",modelValue:e(t).slug,"onUpdate:modelValue":a[5]||(a[5]=o=>e(t).slug=o),required:"",autocomplete:"slug",onFocus:V},null,8,["modelValue"]),l(c,{class:"mt-2",message:e(t).errors.slug},null,8,["message"])]),s("div",ne,[s("div",ce,[l(f,{for:"short",value:e(r)("shortDescription")},null,8,["value"]),s("div",ue,m(e(t).short.length)+" / 255 "+m(e(r)("characters")),1)]),l(y,{modelValue:e(t).short,"onUpdate:modelValue":a[6]||(a[6]=o=>e(t).short=o),class:"w-full"},null,8,["modelValue"]),l(c,{class:"mt-2",message:e(t).errors.short},null,8,["message"])]),s("div",fe,[l(f,{for:"description",value:e(r)("description")},null,8,["value"]),l(A,{modelValue:e(t).description,"onUpdate:modelValue":a[7]||(a[7]=o=>e(t).description=o),height:500},null,8,["modelValue"]),l(c,{class:"mt-2",message:e(t).errors.description},null,8,["message"])]),s("div",_e,[s("div",ge,[l(f,{for:"meta_title",value:e(r)("metaTitle")},null,8,["value"]),s("div",pe,m(e(t).meta_title.length)+" / 160 "+m(e(r)("characters")),1)]),l(g,{id:"meta_title",type:"text",modelValue:e(t).meta_title,"onUpdate:modelValue":a[8]||(a[8]=o=>e(t).meta_title=o),maxlength:"160",autocomplete:"url"},null,8,["modelValue"]),l(c,{class:"mt-2",message:e(t).errors.meta_title},null,8,["message"])]),s("div",xe,[s("div",he,[l(f,{for:"meta_keywords",value:e(r)("metaKeywords")},null,8,["value"]),s("div",ve,m(e(t).meta_keywords.length)+" / 255 "+m(e(r)("characters")),1)]),l(g,{id:"meta_keywords",type:"text",modelValue:e(t).meta_keywords,"onUpdate:modelValue":a[9]||(a[9]=o=>e(t).meta_keywords=o),maxlength:"255",autocomplete:"url"},null,8,["modelValue"]),l(c,{class:"mt-2",message:e(t).errors.meta_keywords},null,8,["message"])]),s("div",we,[s("div",ye,[l(f,{for:"meta_desc",value:e(r)("metaDescription")},null,8,["value"]),s("div",be,m(e(t).meta_desc.length)+" / 200 "+m(e(r)("characters")),1)]),l(y,{modelValue:e(t).meta_desc,"onUpdate:modelValue":a[10]||(a[10]=o=>e(t).meta_desc=o),maxlength:"200",class:"w-full"},null,8,["modelValue"]),l(c,{class:"mt-2",message:e(t).errors.meta_desc},null,8,["message"])]),s("div",Ve,[l(E,{onClear:k,class:"mr-4"},{default:d(()=>[ke,_(" "+m(e(r)("clearMetaFields")),1)]),_:1}),l(q,{onClick:v(M,["prevent"])},{icon:d(()=>[Me]),default:d(()=>[_(" "+m(e(r)("generateMetaTags")),1)]),_:1})]),s("div",$e,[l(w,{href:i.route("admin.tags.index"),class:"mb-3"},{icon:d(()=>[je]),default:d(()=>[_(" "+m(e(r)("back")),1)]),_:1},8,["href"]),l(O,{class:L(["ms-4",{"opacity-25":e(t).processing}]),disabled:e(t).processing},{icon:d(()=>[Te]),default:d(()=>[_(" "+m(e(r)("save")),1)]),_:1},8,["class","disabled"])])],32)])])]),_:1},8,["title"]))}};export{We as default};
