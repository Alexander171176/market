import{u as T,l as p,C as Y,aT as ee,a$ as de,m as a,o as t,x as ue,G as M,Q as P,z as H,f as e,F as V,v as A,i as v,w as g,t as h,q as z,k as o,J as b,a4 as N,p as C,n as y,aW as he,A as Z,e as k,N as G,O as q,E as ve,a_ as te,I as se,L as le,aU as fe,aP as me}from"./vendor-gheHEdqg.js";import{A as ge,a as xe,_ as Q}from"./ResponsiveNavLink-rBqbn9MM.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as _e}from"./LogoutButton-D4SDj_3T.js";import{_ as ae,S as pe}from"./ScrollButtons-Cu_QW-CT.js";import{a as be}from"./vendor-axios-jn5v1YEJ.js";function ke(){const{locale:s}=T(),d=p(s.value);return Y(d,r=>{r!==s.value&&(s.value=r,ee.Inertia.visit(`/${r}`,{preserveState:!1,preserveScroll:!0}))}),{selectedLocale:d}}const we={class:"flex items-center gap-3 px-3 pb-0.5"},ye=ue('<a href="#" title="Instagram" class="social-icon group" data-v-84f2e043><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="transition duration-300 group-hover:scale-110 text-blue-500 dark:text-slate-200 hover:text-blue-700 dark:hover:text-slate-50" data-v-84f2e043><path d="M4 4m0 4a4 4 0 0 1 4 -4h8a4 4 0 0 1 4 4v8a4 4 0 0 1 -4 4h-8a4 4 0 0 1 -4 -4z" data-v-84f2e043></path><path d="M12 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" data-v-84f2e043></path><path d="M16.5 7.5l0 .01" data-v-84f2e043></path></svg></a><a href="#" title="X (Twitter)" class="social-icon group" data-v-84f2e043><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="transition duration-300 group-hover:scale-110 text-blue-500 dark:text-slate-200 hover:text-blue-700 dark:hover:text-slate-50" data-v-84f2e043><path d="M4 4l11.733 16h4.267l-11.733 -16z" data-v-84f2e043></path><path d="M4 20l6.768 -6.768m2.46 -2.46l6.772 -6.772" data-v-84f2e043></path></svg></a><a href="#" title="Facebook" class="social-icon group" data-v-84f2e043><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="transition duration-300 group-hover:scale-110 text-blue-500 dark:text-slate-200 hover:text-blue-700 dark:hover:text-slate-50" data-v-84f2e043><path d="M7 10v4h3v7h4v-7h3l1 -4h-4v-2a1 1 0 0 1 1 -1h3v-4h-3a5 5 0 0 0 -5 5v2h-3" data-v-84f2e043></path></svg></a><a href="#" title="VK" class="social-icon group" data-v-84f2e043><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="transition duration-300 group-hover:scale-110 text-blue-500 dark:text-slate-200 hover:text-blue-700 dark:hover:text-slate-50" data-v-84f2e043><path d="M14 19h-4a8 8 0 0 1 -8 -8v-5h4v5a4 4 0 0 0 4 4h0v-9h4v4.5l.03 0a4.531 4.531 0 0 0 3.97 -4.496h4l-.342 1.711a6.858 6.858 0 0 1 -3.658 4.789h0a5.34 5.34 0 0 1 3.566 4.111l.434 2.389h0h-4a4.531 4.531 0 0 0 -3.97 -4.496v4.5z" data-v-84f2e043></path></svg></a>',4),$e=[ye],Se=de({__name:"SocialIcons",setup(s){return(d,r)=>(t(),a("div",we,$e))}}),Ce=U(Se,[["__scopeId","data-v-84f2e043"]]),Me={class:"flex flex-wrap justify-center p-1"},Ve={key:0,class:"flex flex-wrap"},Be=e("li",null,[e("a",{href:"https://vcg.org.kz/",target:"_blank",rel:"noopener noreferrer",class:"flex items-center mx-2 pt-1 uppercase text-xs font-semibold text-slate-900 hover:text-blue-500 transition duration-300"}," VCG ")],-1),Ie={key:1,class:"text-slate-100"},Le={__name:"TopMenuRubrics",setup(s){const{t:d}=T(),r=p([]),n=M(()=>P().props.locale??"ru"),c=async()=>{const u=`/${n.value}/api/menu-rubrics`;try{const i=await fetch(u);if(!i.ok){console.error(`[TopMenuRubrics] Ошибка загрузки: ${i.status}`);return}const m=await i.json();r.value=Array.isArray(m.rubrics)?m.rubrics:[]}catch(i){console.error("[TopMenuRubrics] Ошибка сети:",i)}};return H(()=>{c()}),Y(n,(f,u)=>{f!==u&&c()}),(f,u)=>(t(),a("nav",Me,[r.value.length?(t(),a("ul",Ve,[(t(!0),a(V,null,A(r.value,i=>(t(),a("li",{key:i.id},[v(o(b),{href:`/rubrics/${i.url}`,class:z(["flex items-center",["mx-2 pb-0.5 text-sm font-medium transition duration-300",f.$page.url.includes(`/rubrics/${i.url}`)?"border-b-2 border-blue-500 dark:border-blue-500 text-blue-500":"text-slate-900 hover:text-blue-500"]])},{default:g(()=>[e("span",null,h(i.title),1)]),_:2},1032,["href","class"])]))),128)),Be])):(t(),a("p",Ie,h(o(d)("dataUploaded")),1))]))}},je={class:"space-y-1 bg-gray-200 dark:bg-gray-700 flex flex-wrap justify-center p-1"},ze={key:0,class:"flex flex-wrap"},Re=e("li",null,[e("a",{href:"https://vcg.org.kz/",target:"_blank",rel:"noopener noreferrer",class:"flex items-center mx-2 pt-1 uppercase text-xs font-semibold text-slate-900 dark:text-slate-100 hover:text-red-400 transition duration-300"}," VCG ")],-1),He={key:1,class:"text-slate-100"},De={__name:"MobileTopMenuRubrics",setup(s){const{t:d}=T(),r=p([]),n=M(()=>P().props.locale??"ru"),c=async()=>{const u=`/${n.value}/api/menu-rubrics`;try{const i=await fetch(u);if(!i.ok){console.error(`[TopMenuRubrics] Ошибка загрузки: ${i.status}`);return}const m=await i.json();r.value=Array.isArray(m.rubrics)?m.rubrics:[]}catch(i){console.error("[TopMenuRubrics] Ошибка сети:",i)}};return H(()=>{c()}),Y(n,(f,u)=>{f!==u&&c()}),(f,u)=>(t(),a("nav",je,[r.value.length?(t(),a("ul",ze,[(t(!0),a(V,null,A(r.value,i=>(t(),a("li",{key:i.id},[v(o(b),{href:`/rubrics/${i.url}`,class:z(["flex items-center",["mx-2 pb-0.5 mb-2 text-sm font-medium transition duration-300",f.$page.url.includes(`/rubrics/${i.url}`)?"border-b-2 border-blue-500 dark:border-blue-500 text-blue-700 dark:text-blue-200":"text-slate-900 dark:text-slate-200 hover:text-blue-500"]])},{default:g(()=>[e("span",null,h(i.title),1)]),_:2},1032,["href","class"])]))),128)),Re])):(t(),a("p",He,h(o(d)("dataUploaded")),1))]))}},Pe=s=>(G("data-v-a95abec5"),s=s(),q(),s),Ae={class:"max-w-12xl mx-auto"},Te={class:"flex items-center justify-center h-10"},Ee={class:"ml-2 flex items-center"},Fe={class:"max-w-12xl mx-auto px-4 sm:px-3 md:px-2 xl:px-6"},Ne={class:"flex items-center justify-between h-8"},Ue={class:"ml-2 flex items-center"},Oe={key:0,class:"relative flex items-center mr-0.5"},Ye=Pe(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24"},[e("path",{fill:"currentColor",d:"M12 3.75a3.75 3.75 0 1 0 0 7.5a3.75 3.75 0 0 0 0-7.5m-4 9.5A3.75 3.75 0 0 0 4.25 17v1.188c0 .754.546 1.396 1.29 1.517c4.278.699 8.642.699 12.92 0a1.537 1.537 0 0 0 1.29-1.517V17A3.75 3.75 0 0 0 16 13.25h-.34c-.185 0-.369.03-.544.086l-.866.283a7.251 7.251 0 0 1-4.5 0l-.866-.283a1.752 1.752 0 0 0-.543-.086z"})],-1)),Ge=[Ye],qe={key:0,class:"user-modal-dropdown absolute right-0 top-8 w-36 bg-gray-50 dark:bg-gray-600 border border-gray-300 dark:border-gray-700 rounded shadow-md shadow-gray-400 dark:shadow-gray-800 z-50 text-sm"},Je={class:"flex flex-col p-2 space-y-1"},Ke={type:"submit",class:"text-left w-full text-slate-900 dark:text-slate-100 hover:text-blue-600 dark:hover:text-blue-400 font-semibold"},Qe={class:"-me-2 flex items-center md:hidden"},We={class:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},Xe={key:0,class:"pb-1 space-y-1 bg-gray-200 dark:bg-gray-700"},Ze={class:"bg-slate-100 text-sm py-0 shadow-sm"},et={class:"max-w-12xl mx-auto px-4 sm:px-3 md:px-2 xl:px-6 flex justify-between items-center"},tt={__name:"Header",props:{canLogin:Boolean,canRegister:Boolean},emits:["toggleNavigationDropdown"],setup(s,{emit:d}){const{t:r}=T(),{siteSettings:n}=P().props,{selectedLocale:c}=ke(),f=p(!1);let u;const i=()=>{f.value=document.documentElement.classList.contains("dark")};H(()=>{i(),u=new MutationObserver(i),u.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]})}),N(()=>{u&&u.disconnect()});const m=M(()=>f.value?n.PublicDarkBackgroundColor:n.PublicLightBackgroundColor),D=p(null),L=p(null),_=p(null),x=p(!1),S=p(0),$=p(0),w=p(!1),{auth:j}=P().props,I=()=>{ve.post(route("logout"))},l=()=>{D.value&&(S.value=D.value.offsetHeight),L.value&&($.value=L.value.offsetHeight);const R=window.scrollY;_.value&&(_.value.style.height=R>=S.value?`${$.value}px`:"0px"),x.value=R>=S.value};let B;const E=()=>{clearTimeout(B),B=setTimeout(()=>{x.value&&_.value&&(x.value=!1,_.value.style.height="0px"),l()},150)};H(()=>{l(),window.addEventListener("scroll",l,{passive:!0}),window.addEventListener("resize",E)}),N(()=>{window.removeEventListener("scroll",l),window.removeEventListener("resize",E),clearTimeout(B)});const ne=M(()=>f.value?n.PublicHeaderDarkBackgroundColor:n.PublicHeaderLightBackgroundColor),ie=M(()=>({"nav-fixed":x.value,"shadow-md":x.value})),ce=M(()=>({"header-placeholder":!0,active:x.value})),J=p(!1);return H(()=>{window.addEventListener("scroll",l,{passive:!0}),window.addEventListener("resize",E),setTimeout(l,50)}),(R,F)=>(t(),a(V,null,[e("div",{ref_key:"topBarRef",ref:D,class:z([m.value])},[e("div",Ae,[e("div",Te,[e("div",Ee,[v(Ce,{class:"flex"})])])])],2),e("div",{ref_key:"navPlaceholderRef",ref:_,class:z([ce.value,m.value])},null,2),e("nav",{ref_key:"mainNavRef",ref:L,class:z([[ie.value,ne.value],"border-t border-b border-dashed border-slate-100 dark:border-slate-100 relative z-10 transition-all duration-300 ease-in-out"])},[e("div",Fe,[e("div",Ne,[v(o(b),{href:R.route("home"),title:o(r)("home"),class:"flex items-center border-r border-slate-400 px-4 h-6 text-md font-semibold text-slate-50 hover:text-blue-500 dark:text-slate-50 dark:hover:text-blue-500 focus:outline focus:outline-2 focus:rounded-sm focus:outline-blue dark:focus:outline-blue-500"},{default:g(()=>[v(ge,{class:"block h-5 w-auto mr-2"}),C(" VCG ")]),_:1},8,["href","title"]),e("div",Ue,[v(ae,{modelValue:o(c),"onUpdate:modelValue":F[0]||(F[0]=K=>he(c)?c.value=K:null),class:"mr-1"},null,8,["modelValue"]),s.canLogin?(t(),a("div",Oe,[e("button",{onClick:F[1]||(F[1]=K=>J.value=!J.value),class:"user-profile-button text-white hover:text-blue-600 transition"},Ge),J.value?(t(),a("div",qe,[e("div",Je,[o(j).user?(t(),a(V,{key:0},[v(o(b),{href:R.route("profile.show"),class:"text-slate-900 dark:text-slate-100 hover:text-blue-600 dark:hover:text-blue-400 font-semibold"},{default:g(()=>[C(h(o(r)("profile")),1)]),_:1},8,["href"]),e("form",{onSubmit:Z(I,["prevent"])},[e("button",Ke,h(o(r)("logout")),1)],32)],64)):(t(),a(V,{key:1},[v(o(b),{href:R.route("login"),class:"text-slate-900 dark:text-slate-100 hover:text-blue-600 dark:hover:text-blue-400 font-semibold"},{default:g(()=>[C(h(o(r)("login")),1)]),_:1},8,["href"]),s.canRegister?(t(),k(o(b),{key:0,href:R.route("register"),class:"text-slate-900 dark:text-slate-100 hover:text-blue-600 dark:hover:text-blue-400 font-semibold"},{default:g(()=>[C(h(o(r)("register")),1)]),_:1},8,["href"])):y("",!0)],64))])])):y("",!0)])):y("",!0),v(xe)]),e("div",Qe,[e("button",{onClick:F[2]||(F[2]=K=>w.value=!w.value),class:"inline-flex items-center justify-center p-0.5 rounded-xs text-white focus:outline-none transition duration-150 ease-in-out"},[(t(),a("svg",We,[e("path",{class:z({hidden:w.value,"inline-flex":!w.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,2),e("path",{class:z({hidden:!w.value,"inline-flex":w.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,2)]))])])])]),e("div",{class:z([{block:w.value,hidden:!w.value},"md:hidden"])},[v(De,{isOpen:w.value},null,8,["isOpen"]),s.canLogin?(t(),a("div",Xe,[o(j).user?(t(),k(Q,{key:0,href:R.route("dashboard")},{default:g(()=>[C(h(o(r)("profile")),1)]),_:1},8,["href"])):y("",!0),o(j).user?(t(),a("form",{key:1,onSubmit:Z(I,["prevent"]),class:"w-full ml-2"},[v(_e,null,{default:g(()=>[C(h(o(r)("logout")),1)]),_:1})],32)):(t(),a(V,{key:2},[v(Q,{href:R.route("login")},{default:g(()=>[C(h(o(r)("login")),1)]),_:1},8,["href"]),s.canRegister?(t(),k(Q,{key:0,href:R.route("register")},{default:g(()=>[C(h(o(r)("register")),1)]),_:1},8,["href"])):y("",!0)],64))])):y("",!0)],2),e("div",Ze,[e("div",et,[v(Le,{isOpen:w.value,class:"hidden md:flex flex-grow justify-center space-x-2 px-1"},null,8,["isOpen"])])])],2)],64))}},st=U(tt,[["__scopeId","data-v-a95abec5"]]),lt={class:"h-full"},at=["src","alt","title"],ot=["src","alt","title"],oe={__name:"ArticleImageSlider",props:{images:{type:Array,required:!0},link:{type:String,default:""},alt:{type:String,default:""},title:{type:String,default:""}},setup(s){const d=s,r=p(0);let n=null;H(()=>{d.images.length>1&&(n=setInterval(()=>{r.value=(r.value+1)%d.images.length},3e3))}),te(()=>{n&&clearInterval(n)});const c=M(()=>d.images[r.value]);return(f,u)=>(t(),a("div",lt,[s.link?(t(),k(o(b),{key:0,href:s.link,class:"block h-full"},{default:g(()=>[e("img",{src:c.value.webp_url||c.value.url,alt:s.alt||c.value.alt,title:s.title||c.value.caption,class:"w-full h-full object-cover shadow-md shadow-gray-600 rounded-md transition-transform duration-300 hover:scale-105"},null,8,at)]),_:1},8,["href"])):(t(),a("img",{key:1,src:c.value.webp_url||c.value.url,alt:s.alt||c.value.alt,title:s.title||c.value.caption,class:"w-full h-full object-cover rounded-md"},null,8,ot))]))}},rt={class:"h-full overflow-hidden shadow-md shadow-gray-400 dark:shadow-gray-900"},nt=["src","alt","title"],O={__name:"BannerImageSlider",props:{images:{type:Array,required:!0},alt:{type:String,default:""},title:{type:String,default:""}},setup(s){const d=s,r=p(0);let n=null;H(()=>{d.images.length>1&&(n=setInterval(()=>{r.value=(r.value+1)%d.images.length},3e3))}),te(()=>{n&&clearInterval(n)});const c=M(()=>d.images[r.value]);return(f,u)=>(t(),a("div",rt,[e("img",{src:c.value.webp_url||c.value.url,alt:s.alt||c.value.alt,title:s.title||c.value.caption,class:"w-full h-full object-cover shadow-md shadow-gray-600 transition-transform duration-300 hover:scale-105"},null,8,nt)]))}},it=s=>(G("data-v-8077783d"),s=s(),q(),s),ct={class:"relative w-full aspect-video bg-black rounded mb-4 shadow-lg shadow-gray-400 dark:shadow-gray-800 overflow-hidden"},dt={key:0,class:"relative w-full h-full"},ut=["src","alt"],ht={class:"absolute inset-0 flex items-center justify-center z-20"},vt=it(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-8 h-8 text-red-600",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M8 5v14l11-7z"})],-1)),ft=[vt],mt=["innerHTML"],gt=["src"],xt={key:2,class:"w-full h-full object-contain",controls:""},_t=["src"],pt={__name:"VideoPlayer",props:{video:Object},emits:["play"],setup(s,{emit:d}){const r=s,{t:n}=T(),c=p(0),f=p(null),u=()=>{var _;i(),((_=r.video.images)==null?void 0:_.length)>1&&(f.value=setInterval(()=>{c.value=(c.value+1)%r.video.images.length},4e3))},i=()=>{f.value&&(clearInterval(f.value),f.value=null)};H(()=>{u()}),N(()=>{i()});const m=p(null),D=_=>{m.value=_,i()},L=_=>{const x=_.source_type,S=_.external_video_id;try{if(x==="youtube")return`https://www.youtube.com/embed/${new URL(S).searchParams.get("v")}`;if(x==="vimeo"){const $=S.match(/vimeo\.com\/(?:video\/)?(\d+)/);return $?`https://player.vimeo.com/video/${$[1]}`:null}if(x==="local")return _.video_url||`/storage/${S}`;if(x==="code")return _.video_code||_.embed_code||null}catch($){return console.error("❌ Video URL error:",$),null}return null};return(_,x)=>{var S;return t(),a("div",ct,[(S=s.video.images)!=null&&S.length&&m.value!==s.video.id?(t(),a("div",dt,[(t(!0),a(V,null,A(s.video.images,($,w)=>(t(),a("img",{key:$.id||w,src:$.url,alt:$.alt||s.video.title,class:z(["slide-fade w-full h-full object-cover",{"slide-fade-active":w===c.value}])},null,10,ut))),128)),e("div",ht,[e("button",{onClick:x[0]||(x[0]=$=>D(s.video.id)),class:"bg-white/30 hover:bg-white/40 backdrop-blur-md rounded-full p-2 border-8 border-white/30"},ft)])])):(t(),a(V,{key:1},[s.video.source_type==="code"?(t(),a("div",{key:0,class:"w-full h-full",innerHTML:L(s.video)},null,8,mt)):["youtube","vimeo"].includes(s.video.source_type)?(t(),a("iframe",{key:1,class:"w-full h-full",src:L(s.video),style:{width:"100% !important","aspect-ratio":"16 / 9 !important",display:"block !important"},frameborder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowfullscreen:""},null,8,gt)):s.video.source_type==="local"?(t(),a("video",xt,[e("source",{src:L(s.video),type:"video/mp4"},null,8,_t),C(" "+h(o(n)("videoNotSupported")),1)])):y("",!0)],64))])}}},bt=U(pt,[["__scopeId","data-v-8077783d"]]),kt={key:0,class:"mt-4"},wt={class:"flex items-center justify-center text-center text-xs text-slate-600 dark:text-slate-400"},yt=e("svg",{class:"w-3 h-3 fill-current shrink-0 mr-1",viewBox:"0 0 16 16"},[e("path",{d:"M15 2h-2V0h-2v2H9V0H7v2H5V0H3v2H1a1 1 0 00-1 1v12a1 1 0 001 1h14a1 1 0 001-1V3a1 1 0 00-1-1zm-1 12H2V6h12v8z"})],-1),$t={key:0,class:"flex items-center tracking-wide text-xs text-black dark:text-white"},re={__name:"SidebarVideos",props:{videos:{type:Array,default:()=>[]}},setup(s){return(d,r)=>s.videos.length?(t(),a("li",kt,[e("ul",null,[(t(!0),a(V,null,A(s.videos,n=>(t(),a("li",{key:n.id,class:"mb-4 pb-4 border-b border-slate-500 dark:border-slate-100"},[v(o(b),{href:`/videos/${n.url}`},{default:g(()=>[v(bt,{video:n},null,8,["video"])]),_:2},1032,["href"]),e("div",wt,[yt,e("span",null,h(n.published_at?new Date(n.published_at).toLocaleDateString():""),1)]),v(o(b),{href:`/videos/${n.url}`,class:"my-1 block text-center text-sm font-semibold text-black dark:text-white hover:text-blue-600 dark:hover:text-blue-400 transition"},{default:g(()=>[C(h(n.title),1)]),_:2},1032,["href"]),n.short?(t(),a("p",$t,h(n.short),1)):y("",!0)]))),128))])])):y("",!0)}},W=s=>(G("data-v-c86c3f02"),s=s(),q(),s),St={class:"flex items-center justify-start"},Ct=["title"],Mt={key:0,class:"w-6 h-6 text-rose-500 dark:text-rose-400",viewBox:"0 0 24 24",fill:"currentColor"},Vt=W(()=>e("path",{d:"M8 5v14l11-7z"},null,-1)),Bt=[Vt],It={key:1,class:"w-6 h-6 text-rose-500 dark:text-rose-400",viewBox:"0 0 24 24",fill:"currentColor"},Lt=W(()=>e("path",{d:"M16 5v14l-11-7z"},null,-1)),jt=[Lt],zt={class:"mt-1"},Rt={class:"flex flex-col items-center justify-center"},Ht={class:"max-w-3xl"},Dt={class:"w-full h-auto shrink-0 overflow-hidden mb-2 rounded-md shadow-md shadow-gray-400 dark:shadow-gray-700"},Pt=["src"],At={class:"text-slate-900 dark:text-slate-100"},Tt={class:"flex flex-col flex-grow h-auto"},Et={class:"text-xs font-semibold text-black dark:text-white my-1"},Ft={class:"flex items-center justify-center text-center text-xs font-semibold text-slate-600 dark:text-slate-400 opacity-75"},Nt=W(()=>e("svg",{class:"w-3 h-3 fill-current shrink-0 mr-1",viewBox:"0 0 16 16"},[e("path",{d:"M15 2h-2V0h-2v2H9V0H7v2H5V0H3v2H1a1 1 0 00-1 1v12a1 1 0 001 1h14a1 1 0 001-1V3a1 1 0 00-1-1zm-1 12H2V6h12v8z"})],-1)),Ut={key:0},Ot={key:1},Yt={class:"mt-3"},Gt={class:"px-3 py-1 text-center text-xs font-semibold text-black dark:text-white hover:text-blue-600 dark:hover:text-blue-400 border border-dashed border-gray-400 dark:border-gray-200"},qt={key:1,class:"mt-3"},Jt={class:"px-3 py-1 text-center text-xs font-semibold text-black dark:text-white border border-dashed border-gray-400 dark:border-gray-200"},Kt={__name:"LeftSidebar",setup(s){const{t:d}=T(),{leftArticles:r,leftBanners:n,leftVideos:c,siteSettings:f}=P().props,u=M(()=>r||[]),i=M(()=>n||[]),m=p(!1),D=()=>{m.value=!m.value},L=M(()=>["transition-all","duration-300","p-2","w-full",m.value?"lg:w-8":"lg:w-80"].join(" ")),_=p(!1);let x;const S=()=>{_.value=document.documentElement.classList.contains("dark")};H(()=>{S(),x=new MutationObserver(S),x.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]})}),N(()=>{x&&x.disconnect()});const $=M(()=>_.value?f.PublicDarkBackgroundColor:f.PublicLightBackgroundColor),w=j=>{const I=new Date(j),l=String(I.getDate()).padStart(2,"0"),B=String(I.getMonth()+1).padStart(2,"0"),E=I.getFullYear();return`${l}.${B}.${E}`};return(j,I)=>u.value.length>0?(t(),a("aside",{key:0,class:z([L.value,$.value])},[e("div",St,[e("button",{onClick:D,class:"focus:outline-none",title:o(d)("toggleSidebar")},[m.value?(t(),a("svg",Mt,Bt)):(t(),a("svg",It,jt))],8,Ct)]),se(e("div",zt,[e("div",Rt,[e("ul",Ht,[(t(!0),a(V,null,A(u.value,l=>{var B;return t(),a("li",{key:l.id,class:"col-span-full flex flex-col items-start mb-3 p-2 overflow-hidden hover:bg-slate-50 dark:hover:bg-slate-800 hover:shadow-md hover:shadow-gray-400 dark:hover:shadow-gray-700"},[e("div",Dt,[l.img?(t(),k(o(b),{key:0,href:`/articles/${l.url}`},{default:g(()=>[e("img",{src:j.getImgSrc(l.img),alt:"Article image",class:"w-full h-auto object-cover"},null,8,Pt)]),_:2},1032,["href"])):(B=l.images)!=null&&B.length?(t(),k(o(b),{key:1,href:`/articles/${l.url}`},{default:g(()=>[v(oe,{images:l.images,link:`/articles/${l.url}`},null,8,["images","link"])]),_:2},1032,["href"])):(t(),k(o(b),{key:2,href:`/articles/${l.url}`,class:"flex items-center justify-center bg-gray-200 dark:bg-gray-400 h-32"},{default:g(()=>[e("span",At,h(o(d)("noCurrentImage")),1)]),_:2},1032,["href"]))]),e("div",Tt,[e("h3",Et,[v(o(b),{href:`/articles/${l.url}`,class:"hover:text-blue-600 dark:hover:text-blue-400"},{default:g(()=>[C(h(l.title),1)]),_:2},1032,["href"])]),e("div",Ft,[Nt,e("span",null,h(w(l.published_at)),1)])])])}),128)),(t(!0),a(V,null,A(i.value,l=>(t(),a("li",{key:l.id,class:"mb-3 pb-2"},[l.images&&l.images.length>0?(t(),a("div",Ut,[l.link?(t(),k(o(b),{key:0,href:l.link},{default:g(()=>[v(O,{images:l.images},null,8,["images"])]),_:2},1032,["href"])):(t(),k(O,{key:1,images:l.images},null,8,["images"]))])):y("",!0),l.title?(t(),a("div",Ot,[l.link?(t(),k(o(b),{key:0,href:l.link},{default:g(()=>[e("div",Yt,[e("h3",Gt,h(l.title),1)])]),_:2},1032,["href"])):(t(),a("div",qt,[e("h3",Jt,h(l.title),1)]))])):y("",!0)]))),128)),v(re,{videos:o(c)},null,8,["videos"])])])],512),[[le,!m.value]])],2)):y("",!0)}},Qt=U(Kt,[["__scopeId","data-v-c86c3f02"]]),X=s=>(G("data-v-be899dba"),s=s(),q(),s),Wt={class:"flex items-center justify-end"},Xt=["title"],Zt={key:0,class:"w-6 h-6 text-rose-500 dark:text-rose-400",viewBox:"0 0 24 24",fill:"currentColor"},es=X(()=>e("path",{d:"M16 5v14l-11-7z"},null,-1)),ts=[es],ss={key:1,class:"w-6 h-6 text-rose-500 dark:text-rose-400",viewBox:"0 0 24 24",fill:"currentColor"},ls=X(()=>e("path",{d:"M8 5v14l11-7z"},null,-1)),as=[ls],os={class:"mt-1"},rs={class:"flex flex-col items-center justify-center"},ns={class:"max-w-xl"},is={key:0},cs={key:1},ds={class:"mt-3"},us={class:"px-3 py-1 text-center text-xs font-semibold text-black dark:text-white hover:text-blue-600 dark:hover:text-blue-400 border border-dashed border-gray-400 dark:border-gray-200"},hs={key:1,class:"mt-3"},vs={class:"px-3 py-1 text-center text-xs font-semibold text-black dark:text-white border border-dashed border-gray-400 dark:border-gray-200"},fs={class:"w-full h-auto shrink-0 overflow-hidden mb-2 rounded-md shadow-md shadow-gray-400 dark:shadow-gray-700"},ms=["src"],gs={class:"text-slate-900 dark:text-slate-100"},xs={class:"flex flex-col flex-grow h-auto"},_s={class:"text-xs font-semibold text-black dark:text-white my-1"},ps={class:"flex items-center justify-center text-center text-xs font-semibold text-slate-600 dark:text-slate-400 opacity-75"},bs=X(()=>e("svg",{class:"w-3 h-3 fill-current shrink-0 mr-1",viewBox:"0 0 16 16"},[e("path",{d:"M15 2h-2V0h-2v2H9V0H7v2H5V0H3v2H1a1 1 0 00-1 1v12a1 1 0 001 1h14a1 1 0 001-1V3a1 1 0 00-1-1zm-1 12H2V6h12v8z"})],-1)),ks={__name:"RightSidebar",setup(s){const{t:d}=T(),{rightArticles:r,rightBanners:n,rightVideos:c,siteSettings:f}=P().props,u=M(()=>r||[]),i=M(()=>n||[]),m=p(!1),D=()=>{m.value=!m.value},L=M(()=>["transition-all","duration-300","p-2","w-full",m.value?"lg:w-8":"lg:w-80"].join(" ")),_=p(!1);let x;const S=()=>{_.value=document.documentElement.classList.contains("dark")};H(()=>{S(),x=new MutationObserver(S),x.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]})}),N(()=>{x&&x.disconnect()});const $=M(()=>_.value?f.PublicDarkBackgroundColor:f.PublicLightBackgroundColor),w=j=>{const I=new Date(j),l=String(I.getDate()).padStart(2,"0"),B=String(I.getMonth()+1).padStart(2,"0"),E=I.getFullYear();return`${l}.${B}.${E}`};return(j,I)=>u.value.length>0?(t(),a("aside",{key:0,class:z([L.value,$.value])},[e("div",Wt,[e("button",{onClick:D,class:"focus:outline-none",title:o(d)("toggleSidebar")},[m.value?(t(),a("svg",Zt,ts)):(t(),a("svg",ss,as))],8,Xt)]),se(e("div",os,[e("div",rs,[e("ul",ns,[(t(!0),a(V,null,A(i.value,l=>(t(),a("li",{key:l.id,class:"mb-3 pb-2"},[l.images&&l.images.length>0?(t(),a("div",is,[l.link?(t(),k(o(b),{key:0,href:l.link},{default:g(()=>[v(O,{images:l.images},null,8,["images"])]),_:2},1032,["href"])):(t(),k(O,{key:1,images:l.images},null,8,["images"]))])):y("",!0),l.title?(t(),a("div",cs,[l.link?(t(),k(o(b),{key:0,href:l.link},{default:g(()=>[e("div",ds,[e("h3",us,h(l.title),1)])]),_:2},1032,["href"])):(t(),a("div",hs,[e("h3",vs,h(l.title),1)]))])):y("",!0)]))),128)),(t(!0),a(V,null,A(u.value,l=>{var B;return t(),a("li",{key:l.id,class:"col-span-full flex flex-col items-start mb-3 p-2 overflow-hidden hover:bg-slate-50 dark:hover:bg-slate-800 hover:shadow-md hover:shadow-gray-400 dark:hover:shadow-gray-700"},[e("div",fs,[l.img?(t(),k(o(b),{key:0,href:`/articles/${l.url}`},{default:g(()=>[e("img",{src:j.getImgSrc(l.img),alt:"Article image",class:"w-full h-auto object-cover"},null,8,ms)]),_:2},1032,["href"])):(B=l.images)!=null&&B.length?(t(),k(o(b),{key:1,href:`/articles/${l.url}`},{default:g(()=>[v(oe,{images:l.images,link:`/articles/${l.url}`},null,8,["images","link"])]),_:2},1032,["href"])):(t(),k(o(b),{key:2,href:`/articles/${l.url}`,class:"flex items-center justify-center bg-gray-200 dark:bg-gray-400 h-32"},{default:g(()=>[e("span",gs,h(o(d)("noCurrentImage")),1)]),_:2},1032,["href"]))]),e("div",xs,[e("h3",_s,[v(o(b),{href:`/articles/${l.url}`,class:"hover:text-blue-600 dark:hover:text-blue-400"},{default:g(()=>[C(h(l.title),1)]),_:2},1032,["href"])]),e("div",ps,[bs,e("span",null,h(w(l.published_at)),1)])])])}),128)),v(re,{videos:o(c)},null,8,["videos"])])])],512),[[le,!m.value]])],2)):y("",!0)}},ws=U(ks,[["__scopeId","data-v-be899dba"]]),ys={class:"sticky px-4 py-0.5 bottom-0 bg-gradient-to-b from-slate-100 to-slate-300 dark:bg-gradient-to-b dark:from-slate-700 dark:to-slate-900 border-t border-slate-200 dark:border-slate-700 z-20"},$s={class:"flex items-center justify-center sm:justify-between flex-wrap"},Ss={class:"text-xs sm:text-sm text-gray-500 dark:text-gray-400"},Cs=e("a",{href:"/",target:"_blank",class:"font-semibold text-red-400 hover:text-rose-300"},"Pulsar CMS",-1),Ms=e("svg",{class:"shrink-0 h-5 w-5 mr-2",viewBox:"0 0 24 24"},[e("path",{class:"fill-current text-slate-600",d:"M19.714 14.7l-7.007 7.007-1.414-1.414 7.007-7.007c-.195-.4-.298-.84-.3-1.286a3 3 0 113 3 2.969 2.969 0 01-1.286-.3z"}),e("path",{class:"fill-current text-slate-400",d:"M10.714 18.3c.4-.195.84-.298 1.286-.3a3 3 0 11-3 3c.002-.446.105-.885.3-1.286l-6.007-6.007 1.414-1.414 6.007 6.007z"}),e("path",{class:"fill-current text-slate-600",d:"M5.7 10.714c.195.4.298.84.3 1.286a3 3 0 11-3-3c.446.002.885.105 1.286.3l7.007-7.007 1.414 1.414L5.7 10.714z"}),e("path",{class:"fill-current text-slate-400",d:"M19.707 9.292a3.012 3.012 0 00-1.415 1.415L13.286 5.7c-.4.195-.84.298-1.286.3a3 3 0 113-3 2.969 2.969 0 01-.3 1.286l5.007 5.006z"})],-1),Vs=e("svg",{class:"w-4 h-4 fill-current text-red-400 shrink-0 mr-2",viewBox:"0 0 16 16"},[e("path",{d:"M4.3 4.5c1.9-1.9 5.1-1.9 7 0 .7.7 1.2 1.7 1.4 2.7l2-.3c-.2-1.5-.9-2.8-1.9-3.8C10.1.4 5.7.4 2.9 3.1L.7.9 0 7.3l6.4-.7-2.1-2.1zM15.6 8.7l-6.4.7 2.1 2.1c-1.9 1.9-5.1 1.9-7 0-.7-.7-1.2-1.7-1.4-2.7l-2 .3c.2 1.5.9 2.8 1.9 3.8 1.4 1.4 3.1 2 4.9 2 1.8 0 3.6-.7 4.9-2l2.2 2.2.8-6.4z"})],-1),Bs={class:"flex items-center space-x-2"},Is={href:"https://t.me/k_a_v_www",target:"_blank",class:"flex items-center space-x-2 text-blue-500 hover:text-blue-700 dark:text-blue-300 dark:hover:text-blue-500"},Ls=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",class:"w-5 h-5 sm:w-6 sm:h-6"},[e("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.175 8.89l-1.4 6.63c-.105.467-.405.578-.82.36l-2.27-1.67-1.093 1.054c-.12.12-.222.222-.45.222l.168-2.39 4.35-3.923c.19-.168-.04-.263-.29-.095L8.78 11.167l-2.42-.76c-.464-.14-.474-.464.096-.684l9.452-3.65c.44-.16.82.108.66.717z"})],-1),js={class:"text-xs sm:text-sm text-gray-500 dark:text-gray-400"},zs={__name:"Footer",props:{canLogin:Boolean,canRegister:Boolean},setup(s){const{t:d,locale:r}=T(),{auth:n}=P().props,c=p(r.value);Y(c,u=>{if(u!==r.value){r.value=u;const i=window.location.pathname.split("/");i[1]=u;const m=i.join("/")+window.location.search;ee.Inertia.visit(m,{preserveState:!1,preserveScroll:!0})}});const f=async()=>{try{await be.post("/admin/cache/clear"),console.log("Кэш успешно очищен!"),window.location.reload()}catch(u){console.error("Ошибка при очистке кэша:",u)}};return(u,i)=>(t(),a("footer",ys,[e("div",$s,[e("div",Ss,[C(" © "+h(new Date().getFullYear())+" ",1),Cs,C(" "+h(o(d)("allRightsReserved")),1)]),o(n).user?(t(),k(o(b),{key:0,href:u.route("admin.index"),title:o(d)("administer"),class:"flex items-center px-3 py-1 text-md font-semibold text-orange-400 hover:text-rose-300 dark:text-violet-400 dark:hover:text-white focus:outline focus:outline-2 focus:rounded-sm focus:outline-red-500"},{default:g(()=>[Ms,C(" "+h(o(d)("administer")),1)]),_:1},8,["href","title"])):y("",!0),e("button",{onClick:f,class:"flex items-center btn px-3 text-slate-900 dark:text-slate-100 rounded-sm border-2 border-slate-400 my-2 mx-1 sm:my-0 sm:mx-0"},[Vs,C(" "+h(o(d)("clearCache")),1)]),e("div",Bs,[e("a",Is,[Ls,e("span",js,h(o(d)("supportService")),1)]),v(ae,{modelValue:c.value,"onUpdate:modelValue":i[0]||(i[0]=m=>c.value=m)},null,8,["modelValue"])])])]))}},Rs={class:"min-h-screen flex justify-center flex-col lg:flex-row tracking-wider"},Fs={__name:"DefaultLayout",props:{title:String,canLogin:Boolean,canRegister:Boolean,laravelVersion:String,phpVersion:String},setup(s){const{siteSettings:d}=P().props,{props:r}=P();return(n,c)=>(t(),a(V,null,[v(o(fe),{title:s.title},null,8,["title"]),v(st,{"can-login":s.canLogin,"can-register":s.canRegister},null,8,["can-login","can-register"]),e("main",Rs,[!o(d).ViewLeftColumn||o(d).ViewLeftColumn==="true"?(t(),k(Qt,{key:0})):y("",!0),me(n.$slots,"default"),!o(d).ViewRightColumn||o(d).ViewRightColumn==="true"?(t(),k(ws,{key:1})):y("",!0)]),v(zs,{"can-login":s.canLogin,"can-register":s.canRegister},null,8,["can-login","can-register"]),v(pe)],64))}};export{bt as V,Fs as _,oe as a};
