import{l as h,z as I,a9 as w,aa as C,C as V,m as n,o as a,f as e,I as z,ab as H,ac as L,ad as F,ae as A,af as B,ag as D,ah as O,ai as T,aj as G,ak as K,al as N,am as U,an as q,N as P,O as Q,ao as W,u as J,Q as R,e as X,w as y,n as M,t as c,k as x,F as S,v as $,q as E,A as Z,i as j,p as k,E as Y}from"./vendor-CMULZhQa.js";import{A as ee}from"./AdminLayout-BMfLiLo0.js";import{T as te}from"./TitlePage-DOI2IMRH.js";import{_ as se}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vendor-axios-jn5v1YEJ.js";import"./vendor-lodash-3g6-h99u.js";import"./sidebarIcons-D5nT6JI0.js";import"./ResponsiveNavLink-BBt1gw6L.js";import"./ScrollButtons-DjRj6zOj.js";import"./app-BmuzEqX8.js";import"./auth-image-XbvYdkSi.js";const g=m=>(P("data-v-d9dceeee"),m=m(),Q(),m),oe={class:"flex justify-center items-center mb-2"},ae={for:"theme-toggle",class:"flex items-center justify-center w-8 h-8 bg-slate-100 hover:bg-yellow-100 rounded-full border border-slate-400 cursor-pointer"},le={key:0,class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg"},re=g(()=>e("path",{class:"fill-current text-slate-400",d:"M7 0h2v2H7V0Zm5.88 1.637 1.414 1.415-1.415 1.413-1.414-1.414 1.415-1.414ZM14 7h2v2h-2V7Zm-1.05 7.433-1.415-1.414 1.414-1.414 1.415 1.413-1.414 1.415ZM7 14h2v2H7v-2Zm-4.02.363L1.566 12.95l1.415-1.414 1.414 1.415-1.415 1.413ZM0 7h2v2H0V7Zm3.05-5.293L4.465 3.12 3.05 4.535 1.636 3.121 3.05 1.707Z"},null,-1)),ne=g(()=>e("path",{class:"fill-current text-slate-500",d:"M8 4C5.8 4 4 5.8 4 8s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4Z"},null,-1)),ie=[re,ne],de={key:1,class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg"},ce=g(()=>e("path",{class:"fill-current text-slate-400",d:"M6.2 2C3.2 2.8 1 5.6 1 8.9 1 12.8 4.2 16 8.1 16c3.3 0 6-2.2 6.9-5.2C9.7 12.2 4.8 7.3 6.2 2Z"},null,-1)),ue=g(()=>e("path",{class:"fill-current text-slate-500",d:"M12.5 6a.625.625 0 0 1-.625-.625 1.252 1.252 0 0 0-1.25-1.25.625.625 0 1 1 0-1.25 1.252 1.252 0 0 0 1.25-1.25.625.625 0 1 1 1.25 0c.001.69.56 1.249 1.25 1.25a.625.625 0 1 1 0 1.25c-.69.001-1.249.56-1.25 1.25A.625.625 0 0 1 12.5 6Z"},null,-1)),pe=[ce,ue],he={__name:"CodeMirrorEditor",props:{modelValue:String,theme:{type:String,default:"light"}},emits:["update:modelValue"],setup(m,{emit:u}){const b=m,v=u,l=h(null),t=h(!1);let s;const p=(r=!1)=>{const o=[L(),F(),A(),B(),D(),O(W),T.of([...K,...N,...U]),G(),w.theme({".cm-content":{"font-size":"16px"}}),w.updateListener.of(i=>{i.docChanged&&v("update:modelValue",i.state.doc.toString())})];return r&&o.push(q),o};return I(()=>{s=new w({state:C.create({doc:b.modelValue,extensions:p(t.value)}),parent:l.value})}),V(()=>b.modelValue,r=>{if(s){const o=s.state.doc.toString();r!==o&&s.dispatch({changes:{from:0,to:o.length,insert:r}})}}),V(t,r=>{if(s){const o=C.create({doc:s.state.doc.toString(),extensions:p(r)});s.setState(o)}}),(r,o)=>(a(),n("div",null,[e("div",oe,[z(e("input",{type:"checkbox",id:"theme-toggle","onUpdate:modelValue":o[0]||(o[0]=i=>t.value=i),class:"sr-only"},null,512),[[H,t.value]]),e("label",ae,[t.value?(a(),n("svg",de,pe)):(a(),n("svg",le,ie))])]),e("div",{ref_key:"editor",ref:l,class:"code-editor"},null,512)]))}},me=se(he,[["__scopeId","data-v-d9dceeee"]]),ve={class:"px-2 py-2 w-full max-w-12xl mx-auto"},fe={class:"p-4 bg-slate-50 dark:bg-slate-700 border border-blue-400 dark:border-blue-200 overflow-hidden shadow-md shadow-gray-500 dark:shadow-slate-400 bg-opacity-95 dark:bg-opacity-95"},_e={class:"mb-4 py-1 px-3 w-full flex items-center justify-center text-sm italic font-semibold text-rose-400 bg-amber-50 opacity-80 border border-rose-200"},xe={class:"flex items-center justify-center flex-row pb-4 px-4 text-sm overflow-x-auto flex-nowrap"},be=["onClick"],ge={class:"flex items-center justify-center flex-row flex-wrap pb-4"},we={class:"flex items-center overflow-x-auto"},ye=["onClick"],ke={key:0,class:"border border-gray-400 bg-slate-100 dark:bg-slate-200 overflow-hidden shadow-xl sm:rounded-lg p-4"},Ce={class:"mb-1 font-semibold text-gray-900"},Ve={class:"text-sm text-blue-500"},Me={class:"flex justify-end mt-2"},Se=e("svg",{class:"w-4 h-4 fill-current text-slate-100 mr-1",viewBox:"0 0 16 16"},[e("path",{d:"M14.3 2.3L5 11.6 1.7 8.3c-.4-.4-1-.4-1.4 0-.4.4-.4 1 0 1.4l4 4c.2.2.4.3.7.3.3 0 .5-.1.7-.3l10-10c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0z"})],-1),$e={key:0,class:"text-red-600 mt-2"},Te={__name:"Index",setup(m){const{t:u}=J(),{props:b}=R(),v=h(b.fileContents),l=h(""),t=h(Object.keys(v.value)[0]),s=h(""),p=h(""),r=(i,_)=>{l.value=i,t.value=_,s.value=v.value[_][i],p.value=""},o=async()=>{Y.post(route("admin.components.save"),{fileName:l.value,fileContent:s.value}),p.value="Не удалось сохранить изменения в файле",window.location.reload()};return(i,_)=>(a(),X(ee,{title:x(u)("componentEditorHeader")},{header:y(()=>[j(te,null,{default:y(()=>[k(c(x(u)("componentEditorHeader")),1)]),_:1})]),default:y(()=>[e("div",ve,[e("div",fe,[e("span",_e,c(x(u)("componentEditorWarning")),1),e("ul",xe,[(a(!0),n(S,null,$(Object.keys(v.value),d=>(a(),n("li",{key:d,class:"inline mr-1"},[e("a",{href:"#",onClick:Z(f=>t.value=d,["prevent"]),class:E({"block px-3 py-1 rounded-t-md bg-blue-600 text-white border border-gray-300 whitespace-nowrap":t.value===d,"block px-3 py-1 rounded-t-md bg-zinc-200 dark:bg-zinc-400 border border-zinc-500 text-black whitespace-nowrap":t.value!==d})},c(d),11,be)]))),128))]),e("div",ge,[e("div",we,[(a(!0),n(S,null,$(v.value[t.value],(d,f)=>(a(),n("a",{key:f,href:"#",onClick:Z(Ee=>r(f,t.value),["prevent"]),class:E({"block mr-1 px-3 py-1 text-sm border border-gray-500 rounded-sm hover:text-rose-700 dark:hover:text-red-300 hover:bg-teal-400 dark:hover:bg-teal-700":!0,"bg-teal-600 text-white":l.value===f&&t.value===t.value,"bg-slate-200 text-black dark:border-slate-400 dark:bg-slate-600 dark:text-slate-100":l.value!==f||t.value!==t.value})},c(f),11,ye))),128))])]),l.value?(a(),n("div",ke,[e("h2",Ce,[e("span",Ve,c(x(u)("editingFile")),1),k(" "+c(l.value),1)]),j(me,{modelValue:s.value,"onUpdate:modelValue":_[0]||(_[0]=d=>s.value=d),theme:"dark",class:"w-full h-auto"},null,8,["modelValue"]),e("div",Me,[e("button",{onClick:o,class:"flex items-center btn px-3 py-1 bg-teal-500 text-white text-md font-semibold rounded-md shadow-md transition-colors duration-300 ease-in-out hover:bg-teal-600 focus:bg-teal-600 focus:outline-none"},[Se,k(" "+c(x(u)("save")),1)])]),p.value?(a(),n("div",$e,c(p.value),1)):M("",!0)])):M("",!0)])])]),_:1},8,["title"]))}};export{Te as default};
