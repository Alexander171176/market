import{u as A,l as x,C as O,aT as Z,a$ as ce,m as l,o as t,x as de,G as w,Q as z,z as R,f as e,F as B,v as F,i as m,w as f,t as u,q as j,k as a,J as g,a4 as N,p as C,n as $,aV as ue,A as X,e as _,N as K,O as Q,E as he,a_ as W,I as ee,L as te,aU as fe,aP as ve}from"./vendor-BxBIhlnJ.js";import{A as me,a as ge,_ as J}from"./ResponsiveNavLink-De0bHo2I.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as xe}from"./LogoutButton-154m7eOH.js";import{_ as se}from"./LocaleSelectOption-C-FbJBp9.js";import{a as _e}from"./vendor-axios-jn5v1YEJ.js";function pe(){const{locale:o}=A(),c=x(o.value);return O(c,n=>{n!==o.value&&(o.value=n,Z.Inertia.visit(`/${n}`,{preserveState:!1,preserveScroll:!0}))}),{selectedLocale:c}}const ke={class:"flex items-center gap-3 px-3 pb-0.5"},be=de('<a href="#" title="Instagram" class="social-icon group" data-v-84f2e043><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="transition duration-300 group-hover:scale-110 text-blue-500 dark:text-slate-200 hover:text-blue-700 dark:hover:text-slate-50" data-v-84f2e043><path d="M4 4m0 4a4 4 0 0 1 4 -4h8a4 4 0 0 1 4 4v8a4 4 0 0 1 -4 4h-8a4 4 0 0 1 -4 -4z" data-v-84f2e043></path><path d="M12 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" data-v-84f2e043></path><path d="M16.5 7.5l0 .01" data-v-84f2e043></path></svg></a><a href="#" title="X (Twitter)" class="social-icon group" data-v-84f2e043><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="transition duration-300 group-hover:scale-110 text-blue-500 dark:text-slate-200 hover:text-blue-700 dark:hover:text-slate-50" data-v-84f2e043><path d="M4 4l11.733 16h4.267l-11.733 -16z" data-v-84f2e043></path><path d="M4 20l6.768 -6.768m2.46 -2.46l6.772 -6.772" data-v-84f2e043></path></svg></a><a href="#" title="Facebook" class="social-icon group" data-v-84f2e043><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="transition duration-300 group-hover:scale-110 text-blue-500 dark:text-slate-200 hover:text-blue-700 dark:hover:text-slate-50" data-v-84f2e043><path d="M7 10v4h3v7h4v-7h3l1 -4h-4v-2a1 1 0 0 1 1 -1h3v-4h-3a5 5 0 0 0 -5 5v2h-3" data-v-84f2e043></path></svg></a><a href="#" title="VK" class="social-icon group" data-v-84f2e043><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="transition duration-300 group-hover:scale-110 text-blue-500 dark:text-slate-200 hover:text-blue-700 dark:hover:text-slate-50" data-v-84f2e043><path d="M14 19h-4a8 8 0 0 1 -8 -8v-5h4v5a4 4 0 0 0 4 4h0v-9h4v4.5l.03 0a4.531 4.531 0 0 0 3.97 -4.496h4l-.342 1.711a6.858 6.858 0 0 1 -3.658 4.789h0a5.34 5.34 0 0 1 3.566 4.111l.434 2.389h0h-4a4.531 4.531 0 0 0 -3.97 -4.496v4.5z" data-v-84f2e043></path></svg></a>',4),we=[be],ye=ce({__name:"SocialIcons",setup(o){return(c,n)=>(t(),l("div",ke,we))}}),$e=U(ye,[["__scopeId","data-v-84f2e043"]]),Ce={class:"flex flex-wrap justify-center p-1"},Se={key:0,class:"flex flex-wrap"},Me=e("li",null,[e("a",{href:"https://vcg.org.kz/",target:"_blank",rel:"noopener noreferrer",class:"flex items-center mx-2 pt-1 uppercase text-xs font-semibold text-slate-900 hover:text-blue-500 transition duration-300"}," VCG ")],-1),Be={key:1,class:"text-slate-100"},Le={__name:"TopMenuRubrics",setup(o){const{t:c}=A(),n=x([]),h=w(()=>z().props.locale??"ru"),i=async()=>{const d=`/${h.value}/api/menu-rubrics`;try{const r=await fetch(d);if(!r.ok){console.error(`[TopMenuRubrics] Ошибка загрузки: ${r.status}`);return}const k=await r.json();n.value=Array.isArray(k.rubrics)?k.rubrics:[]}catch(r){console.error("[TopMenuRubrics] Ошибка сети:",r)}};return R(()=>{i()}),O(h,(v,d)=>{v!==d&&i()}),(v,d)=>(t(),l("nav",Ce,[n.value.length?(t(),l("ul",Se,[(t(!0),l(B,null,F(n.value,r=>(t(),l("li",{key:r.id},[m(a(g),{href:`/rubrics/${r.url}`,class:j(["flex items-center",["mx-2 pb-0.5 text-sm font-medium transition duration-300",v.$page.url.includes(`/rubrics/${r.url}`)?"border-b-2 border-blue-500 dark:border-blue-500 text-blue-500":"text-slate-900 hover:text-blue-500"]])},{default:f(()=>[e("span",null,u(r.title),1)]),_:2},1032,["href","class"])]))),128)),Me])):(t(),l("p",Be,u(a(c)("dataUploaded")),1))]))}},je={class:"space-y-1 bg-gray-200 dark:bg-gray-700 flex flex-wrap justify-center p-1"},Ie={key:0,class:"flex flex-wrap"},Re=e("li",null,[e("a",{href:"https://vcg.org.kz/",target:"_blank",rel:"noopener noreferrer",class:"flex items-center mx-2 pt-1 uppercase text-xs font-semibold text-slate-900 dark:text-slate-100 hover:text-red-400 transition duration-300"}," VCG ")],-1),ze={key:1,class:"text-slate-100"},Ve={__name:"MobileTopMenuRubrics",setup(o){const{t:c}=A(),n=x([]),h=w(()=>z().props.locale??"ru"),i=async()=>{const d=`/${h.value}/api/menu-rubrics`;try{const r=await fetch(d);if(!r.ok){console.error(`[TopMenuRubrics] Ошибка загрузки: ${r.status}`);return}const k=await r.json();n.value=Array.isArray(k.rubrics)?k.rubrics:[]}catch(r){console.error("[TopMenuRubrics] Ошибка сети:",r)}};return R(()=>{i()}),O(h,(v,d)=>{v!==d&&i()}),(v,d)=>(t(),l("nav",je,[n.value.length?(t(),l("ul",Ie,[(t(!0),l(B,null,F(n.value,r=>(t(),l("li",{key:r.id},[m(a(g),{href:`/rubrics/${r.url}`,class:j(["flex items-center",["mx-2 pb-0.5 mb-2 text-sm font-medium transition duration-300",v.$page.url.includes(`/rubrics/${r.url}`)?"border-b-2 border-blue-500 dark:border-blue-500 text-blue-700 dark:text-blue-200":"text-slate-900 dark:text-slate-200 hover:text-blue-500"]])},{default:f(()=>[e("span",null,u(r.title),1)]),_:2},1032,["href","class"])]))),128)),Re])):(t(),l("p",ze,u(a(c)("dataUploaded")),1))]))}},De=o=>(K("data-v-a95abec5"),o=o(),Q(),o),Pe={class:"max-w-12xl mx-auto"},Ae={class:"flex items-center justify-center h-10"},Ee={class:"ml-2 flex items-center"},Te={class:"max-w-12xl mx-auto px-4 sm:px-3 md:px-2 xl:px-6"},Fe={class:"flex items-center justify-between h-8"},Ne={class:"ml-2 flex items-center"},He={key:0,class:"relative flex items-center mr-0.5"},Oe=De(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24"},[e("path",{fill:"currentColor",d:"M12 3.75a3.75 3.75 0 1 0 0 7.5a3.75 3.75 0 0 0 0-7.5m-4 9.5A3.75 3.75 0 0 0 4.25 17v1.188c0 .754.546 1.396 1.29 1.517c4.278.699 8.642.699 12.92 0a1.537 1.537 0 0 0 1.29-1.517V17A3.75 3.75 0 0 0 16 13.25h-.34c-.185 0-.369.03-.544.086l-.866.283a7.251 7.251 0 0 1-4.5 0l-.866-.283a1.752 1.752 0 0 0-.543-.086z"})],-1)),Ue=[Oe],Ye={key:0,class:"user-modal-dropdown absolute right-0 top-8 w-36 bg-gray-50 dark:bg-gray-600 border border-gray-300 dark:border-gray-700 rounded shadow-md shadow-gray-400 dark:shadow-gray-800 z-50 text-sm"},Ge={class:"flex flex-col p-2 space-y-1"},qe={type:"submit",class:"text-left w-full text-slate-900 dark:text-slate-100 hover:text-blue-600 dark:hover:text-blue-400 font-semibold"},Je={class:"-me-2 flex items-center md:hidden"},Ke={class:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},Qe={key:0,class:"pb-1 space-y-1 bg-gray-200 dark:bg-gray-700"},Xe={class:"bg-slate-100 text-sm py-0 shadow-sm"},Ze={class:"max-w-12xl mx-auto px-4 sm:px-3 md:px-2 xl:px-6 flex justify-between items-center"},We={__name:"Header",props:{canLogin:Boolean,canRegister:Boolean},emits:["toggleNavigationDropdown"],setup(o,{emit:c}){const{t:n}=A(),{siteSettings:h}=z().props,{selectedLocale:i}=pe(),v=x(!1);let d;const r=()=>{v.value=document.documentElement.classList.contains("dark")};R(()=>{r(),d=new MutationObserver(r),d.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]})}),N(()=>{d&&d.disconnect()});const k=w(()=>v.value?h.PublicDarkBackgroundColor:h.PublicLightBackgroundColor),V=x(null),I=x(null),y=x(null),M=x(!1),D=x(0),E=x(0),p=x(!1),{auth:S}=z().props,s=()=>{he.post(route("logout"))},b=()=>{V.value&&(D.value=V.value.offsetHeight),I.value&&(E.value=I.value.offsetHeight);const L=window.scrollY;y.value&&(y.value.style.height=L>=D.value?`${E.value}px`:"0px"),M.value=L>=D.value};let P;const Y=()=>{clearTimeout(P),P=setTimeout(()=>{M.value&&y.value&&(M.value=!1,y.value.style.height="0px"),b()},150)};R(()=>{b(),window.addEventListener("scroll",b,{passive:!0}),window.addEventListener("resize",Y)}),N(()=>{window.removeEventListener("scroll",b),window.removeEventListener("resize",Y),clearTimeout(P)});const re=w(()=>v.value?h.PublicHeaderDarkBackgroundColor:h.PublicHeaderLightBackgroundColor),ne=w(()=>({"nav-fixed":M.value,"shadow-md":M.value})),ie=w(()=>({"header-placeholder":!0,active:M.value})),G=x(!1);return R(()=>{window.addEventListener("scroll",b,{passive:!0}),window.addEventListener("resize",Y),setTimeout(b,50)}),(L,T)=>(t(),l(B,null,[e("div",{ref_key:"topBarRef",ref:V,class:j([k.value])},[e("div",Pe,[e("div",Ae,[e("div",Ee,[m($e,{class:"flex"})])])])],2),e("div",{ref_key:"navPlaceholderRef",ref:y,class:j([ie.value,k.value])},null,2),e("nav",{ref_key:"mainNavRef",ref:I,class:j([[ne.value,re.value],"border-t border-b border-dashed border-slate-100 dark:border-slate-100 relative z-10 transition-all duration-300 ease-in-out"])},[e("div",Te,[e("div",Fe,[m(a(g),{href:L.route("home"),title:a(n)("home"),class:"flex items-center border-r border-slate-400 px-4 h-6 text-md font-semibold text-slate-50 hover:text-blue-500 dark:text-slate-50 dark:hover:text-blue-500 focus:outline focus:outline-2 focus:rounded-sm focus:outline-blue dark:focus:outline-blue-500"},{default:f(()=>[m(me,{class:"block h-5 w-auto mr-2"}),C(" VCG ")]),_:1},8,["href","title"]),e("div",Ne,[m(se,{modelValue:a(i),"onUpdate:modelValue":T[0]||(T[0]=q=>ue(i)?i.value=q:null),class:"mr-1"},null,8,["modelValue"]),o.canLogin?(t(),l("div",He,[e("button",{onClick:T[1]||(T[1]=q=>G.value=!G.value),class:"user-profile-button text-white hover:text-blue-600 transition"},Ue),G.value?(t(),l("div",Ye,[e("div",Ge,[a(S).user?(t(),l(B,{key:0},[m(a(g),{href:L.route("profile.show"),class:"text-slate-900 dark:text-slate-100 hover:text-blue-600 dark:hover:text-blue-400 font-semibold"},{default:f(()=>[C(u(a(n)("profile")),1)]),_:1},8,["href"]),e("form",{onSubmit:X(s,["prevent"])},[e("button",qe,u(a(n)("logout")),1)],32)],64)):(t(),l(B,{key:1},[m(a(g),{href:L.route("login"),class:"text-slate-900 dark:text-slate-100 hover:text-blue-600 dark:hover:text-blue-400 font-semibold"},{default:f(()=>[C(u(a(n)("login")),1)]),_:1},8,["href"]),o.canRegister?(t(),_(a(g),{key:0,href:L.route("register"),class:"text-slate-900 dark:text-slate-100 hover:text-blue-600 dark:hover:text-blue-400 font-semibold"},{default:f(()=>[C(u(a(n)("register")),1)]),_:1},8,["href"])):$("",!0)],64))])])):$("",!0)])):$("",!0),m(ge)]),e("div",Je,[e("button",{onClick:T[2]||(T[2]=q=>p.value=!p.value),class:"inline-flex items-center justify-center p-0.5 rounded-xs text-white focus:outline-none transition duration-150 ease-in-out"},[(t(),l("svg",Ke,[e("path",{class:j({hidden:p.value,"inline-flex":!p.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,2),e("path",{class:j({hidden:!p.value,"inline-flex":p.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,2)]))])])])]),e("div",{class:j([{block:p.value,hidden:!p.value},"md:hidden"])},[m(Ve,{isOpen:p.value},null,8,["isOpen"]),o.canLogin?(t(),l("div",Qe,[a(S).user?(t(),_(J,{key:0,href:L.route("dashboard")},{default:f(()=>[C(u(a(n)("profile")),1)]),_:1},8,["href"])):$("",!0),a(S).user?(t(),l("form",{key:1,onSubmit:X(s,["prevent"]),class:"w-full ml-2"},[m(xe,null,{default:f(()=>[C(u(a(n)("logout")),1)]),_:1})],32)):(t(),l(B,{key:2},[m(J,{href:L.route("login")},{default:f(()=>[C(u(a(n)("login")),1)]),_:1},8,["href"]),o.canRegister?(t(),_(J,{key:0,href:L.route("register")},{default:f(()=>[C(u(a(n)("register")),1)]),_:1},8,["href"])):$("",!0)],64))])):$("",!0)],2),e("div",Xe,[e("div",Ze,[m(Le,{isOpen:p.value,class:"hidden md:flex flex-grow justify-center space-x-2 px-1"},null,8,["isOpen"])])])],2)],64))}},et=U(We,[["__scopeId","data-v-a95abec5"]]),tt={class:"h-full"},st=["src","alt","title"],at=["src","alt","title"],ae={__name:"ArticleImageSlider",props:{images:{type:Array,required:!0},link:{type:String,default:""},alt:{type:String,default:""},title:{type:String,default:""}},setup(o){const c=o,n=x(0);let h=null;R(()=>{c.images.length>1&&(h=setInterval(()=>{n.value=(n.value+1)%c.images.length},3e3))}),W(()=>{h&&clearInterval(h)});const i=w(()=>c.images[n.value]);return(v,d)=>(t(),l("div",tt,[o.link?(t(),_(a(g),{key:0,href:o.link,class:"block h-full"},{default:f(()=>[e("img",{src:i.value.webp_url||i.value.url,alt:o.alt||i.value.alt,title:o.title||i.value.caption,class:"w-full h-full object-cover shadow-md shadow-gray-600 rounded-md transition-transform duration-300 hover:scale-105"},null,8,st)]),_:1},8,["href"])):(t(),l("img",{key:1,src:i.value.webp_url||i.value.url,alt:o.alt||i.value.alt,title:o.title||i.value.caption,class:"w-full h-full object-cover rounded-md"},null,8,at))]))}},lt={class:"h-full overflow-hidden shadow-lg shadow-gray-400 dark:shadow-gray-900"},ot=["src","alt","title"],H={__name:"BannerImageSlider",props:{images:{type:Array,required:!0},alt:{type:String,default:""},title:{type:String,default:""}},setup(o){const c=o,n=x(0);let h=null;R(()=>{c.images.length>1&&(h=setInterval(()=>{n.value=(n.value+1)%c.images.length},3e3))}),W(()=>{h&&clearInterval(h)});const i=w(()=>c.images[n.value]);return(v,d)=>(t(),l("div",lt,[e("img",{src:i.value.webp_url||i.value.url,alt:o.alt||i.value.alt,title:o.title||i.value.caption,class:"w-full h-full object-cover shadow-md shadow-gray-600 transition-transform duration-300 hover:scale-105"},null,8,ot)]))}},le=o=>(K("data-v-3f99c407"),o=o(),Q(),o),rt={class:"flex items-center justify-start"},nt=["title"],it={key:0,class:"w-6 h-6 text-rose-500 dark:text-rose-400",viewBox:"0 0 24 24",fill:"currentColor"},ct=le(()=>e("path",{d:"M8 5v14l11-7z"},null,-1)),dt=[ct],ut={key:1,class:"w-6 h-6 text-rose-500 dark:text-rose-400",viewBox:"0 0 24 24",fill:"currentColor"},ht=le(()=>e("path",{d:"M16 5v14l-11-7z"},null,-1)),ft=[ht],vt={class:"mt-1"},mt={class:"flex flex-col items-center justify-center"},gt={class:"max-w-3xl"},xt={class:"w-full h-auto shrink-0 overflow-hidden mb-2 rounded-md shadow-lg shadow-gray-400 dark:shadow-gray-900"},_t=["src"],pt={class:"text-slate-900 dark:text-slate-100"},kt={class:"flex flex-col flex-grow h-auto"},bt={class:"text-xs font-semibold text-black dark:text-white my-1"},wt={class:"text-center text-xs font-semibold text-slate-600 dark:text-slate-400 opacity-75"},yt={key:0},$t={key:1},Ct={class:"mt-3"},St={class:"px-3 py-1 text-center text-xs font-semibold text-black dark:text-white hover:text-blue-600 dark:hover:text-blue-400 border border-dashed border-gray-400 dark:border-gray-200"},Mt={key:1,class:"mt-3"},Bt={class:"px-3 py-1 text-center text-xs font-semibold text-black dark:text-white border border-dashed border-gray-400 dark:border-gray-200"},Lt={__name:"LeftSidebar",setup(o){const{t:c}=A(),{leftArticles:n,leftBanners:h,siteSettings:i}=z().props,v=w(()=>n||[]),d=w(()=>h||[]),r=x(!1),k=()=>{r.value=!r.value},V=w(()=>["transition-all","duration-300","p-2","w-full",r.value?"lg:w-8":"lg:w-80"].join(" ")),I=x(!1);let y;const M=()=>{I.value=document.documentElement.classList.contains("dark")};R(()=>{M(),y=new MutationObserver(M),y.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]})}),N(()=>{y&&y.disconnect()});const D=w(()=>I.value?i.PublicDarkBackgroundColor:i.PublicLightBackgroundColor),E=p=>{const S=new Date(p),s=String(S.getDate()).padStart(2,"0"),b=String(S.getMonth()+1).padStart(2,"0"),P=S.getFullYear();return`${s}.${b}.${P}`};return(p,S)=>v.value.length>0?(t(),l("aside",{key:0,class:j([V.value,D.value])},[e("div",rt,[e("button",{onClick:k,class:"focus:outline-none",title:a(c)("toggleSidebar")},[r.value?(t(),l("svg",it,dt)):(t(),l("svg",ut,ft))],8,nt)]),ee(e("div",vt,[e("div",mt,[e("ul",gt,[(t(!0),l(B,null,F(v.value,s=>{var b;return t(),l("li",{key:s.id,class:"col-span-full flex flex-col items-start mb-3 p-2 overflow-hidden hover:bg-slate-50 dark:hover:bg-slate-800 hover:shadow-lg hover:shadow-gray-400 dark:hover:shadow-gray-700"},[e("div",xt,[s.img?(t(),_(a(g),{key:0,href:`/articles/${s.url}`},{default:f(()=>[e("img",{src:p.getImgSrc(s.img),alt:"Article image",class:"w-full h-auto object-cover"},null,8,_t)]),_:2},1032,["href"])):(b=s.images)!=null&&b.length?(t(),_(a(g),{key:1,href:`/articles/${s.url}`},{default:f(()=>[m(ae,{images:s.images,link:`/articles/${s.url}`},null,8,["images","link"])]),_:2},1032,["href"])):(t(),_(a(g),{key:2,href:`/articles/${s.url}`,class:"flex items-center justify-center bg-gray-200 dark:bg-gray-400 h-32"},{default:f(()=>[e("span",pt,u(a(c)("noCurrentImage")),1)]),_:2},1032,["href"]))]),e("div",kt,[e("h3",bt,[m(a(g),{href:`/articles/${s.url}`,class:"hover:text-blue-600 dark:hover:text-blue-400"},{default:f(()=>[C(u(s.title),1)]),_:2},1032,["href"])]),e("div",wt,u(E(s.published_at)),1)])])}),128)),(t(!0),l(B,null,F(d.value,s=>(t(),l("li",{key:s.id,class:"mb-3 pb-2"},[s.images&&s.images.length>0?(t(),l("div",yt,[s.link?(t(),_(a(g),{key:0,href:s.link},{default:f(()=>[m(H,{images:s.images},null,8,["images"])]),_:2},1032,["href"])):(t(),_(H,{key:1,images:s.images},null,8,["images"]))])):$("",!0),s.title?(t(),l("div",$t,[s.link?(t(),_(a(g),{key:0,href:s.link},{default:f(()=>[e("div",Ct,[e("h3",St,u(s.title),1)])]),_:2},1032,["href"])):(t(),l("div",Mt,[e("h3",Bt,u(s.title),1)]))])):$("",!0)]))),128))])])],512),[[te,!r.value]])],2)):$("",!0)}},jt=U(Lt,[["__scopeId","data-v-3f99c407"]]),oe=o=>(K("data-v-9d34aa6b"),o=o(),Q(),o),It={class:"flex items-center justify-end"},Rt=["title"],zt={key:0,class:"w-6 h-6 text-rose-500 dark:text-rose-400",viewBox:"0 0 24 24",fill:"currentColor"},Vt=oe(()=>e("path",{d:"M16 5v14l-11-7z"},null,-1)),Dt=[Vt],Pt={key:1,class:"w-6 h-6 text-rose-500 dark:text-rose-400",viewBox:"0 0 24 24",fill:"currentColor"},At=oe(()=>e("path",{d:"M8 5v14l11-7z"},null,-1)),Et=[At],Tt={class:"mt-1"},Ft={class:"flex flex-col items-center justify-center"},Nt={class:"max-w-xl"},Ht={key:0},Ot={key:1},Ut={class:"mt-3"},Yt={class:"px-3 py-1 text-center text-xs font-semibold text-black dark:text-white hover:text-blue-600 dark:hover:text-blue-400 border border-dashed border-gray-400 dark:border-gray-200"},Gt={key:1,class:"mt-3"},qt={class:"px-3 py-1 text-center text-xs font-semibold text-black dark:text-white border border-dashed border-gray-400 dark:border-gray-200"},Jt={class:"w-full h-auto shrink-0 overflow-hidden mb-2 rounded-md shadow-lg shadow-gray-400 dark:shadow-gray-900"},Kt=["src"],Qt={class:"text-slate-900 dark:text-slate-100"},Xt={class:"flex flex-col flex-grow h-auto"},Zt={class:"text-xs font-semibold text-black dark:text-white my-1"},Wt={class:"text-center text-xs font-semibold text-slate-600 dark:text-slate-400 opacity-75"},es={__name:"RightSidebar",setup(o){const{t:c}=A(),{rightArticles:n,rightBanners:h,siteSettings:i}=z().props,v=w(()=>n||[]),d=w(()=>h||[]),r=x(!1),k=()=>{r.value=!r.value},V=w(()=>["transition-all","duration-300","p-2","w-full",r.value?"lg:w-8":"lg:w-80"].join(" ")),I=x(!1);let y;const M=()=>{I.value=document.documentElement.classList.contains("dark")};R(()=>{M(),y=new MutationObserver(M),y.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]})}),N(()=>{y&&y.disconnect()});const D=w(()=>I.value?i.PublicDarkBackgroundColor:i.PublicLightBackgroundColor),E=p=>{const S=new Date(p),s=String(S.getDate()).padStart(2,"0"),b=String(S.getMonth()+1).padStart(2,"0"),P=S.getFullYear();return`${s}.${b}.${P}`};return(p,S)=>v.value.length>0?(t(),l("aside",{key:0,class:j([V.value,D.value])},[e("div",It,[e("button",{onClick:k,class:"focus:outline-none",title:a(c)("toggleSidebar")},[r.value?(t(),l("svg",zt,Dt)):(t(),l("svg",Pt,Et))],8,Rt)]),ee(e("div",Tt,[e("div",Ft,[e("ul",Nt,[(t(!0),l(B,null,F(d.value,s=>(t(),l("li",{key:s.id,class:"mb-3 pb-2"},[s.images&&s.images.length>0?(t(),l("div",Ht,[s.link?(t(),_(a(g),{key:0,href:s.link},{default:f(()=>[m(H,{images:s.images},null,8,["images"])]),_:2},1032,["href"])):(t(),_(H,{key:1,images:s.images},null,8,["images"]))])):$("",!0),s.title?(t(),l("div",Ot,[s.link?(t(),_(a(g),{key:0,href:s.link},{default:f(()=>[e("div",Ut,[e("h3",Yt,u(s.title),1)])]),_:2},1032,["href"])):(t(),l("div",Gt,[e("h3",qt,u(s.title),1)]))])):$("",!0)]))),128)),(t(!0),l(B,null,F(v.value,s=>{var b;return t(),l("li",{key:s.id,class:"col-span-full flex flex-col items-start mb-3 p-2 overflow-hidden hover:bg-slate-50 dark:hover:bg-slate-800 hover:shadow-lg hover:shadow-gray-400 dark:hover:shadow-gray-700"},[e("div",Jt,[s.img?(t(),_(a(g),{key:0,href:`/articles/${s.url}`},{default:f(()=>[e("img",{src:p.getImgSrc(s.img),alt:"Article image",class:"w-full h-auto object-cover"},null,8,Kt)]),_:2},1032,["href"])):(b=s.images)!=null&&b.length?(t(),_(a(g),{key:1,href:`/articles/${s.url}`},{default:f(()=>[m(ae,{images:s.images,link:`/articles/${s.url}`},null,8,["images","link"])]),_:2},1032,["href"])):(t(),_(a(g),{key:2,href:`/articles/${s.url}`,class:"flex items-center justify-center bg-gray-200 dark:bg-gray-400 h-32"},{default:f(()=>[e("span",Qt,u(a(c)("noCurrentImage")),1)]),_:2},1032,["href"]))]),e("div",Xt,[e("h3",Zt,[m(a(g),{href:`/articles/${s.url}`,class:"hover:text-blue-600 dark:hover:text-blue-400"},{default:f(()=>[C(u(s.title),1)]),_:2},1032,["href"])]),e("div",Wt,u(E(s.published_at)),1)])])}),128))])])],512),[[te,!r.value]])],2)):$("",!0)}},ts=U(es,[["__scopeId","data-v-9d34aa6b"]]),ss={class:"sticky px-4 py-0.5 bottom-0 bg-gradient-to-b from-slate-100 to-slate-300 dark:bg-gradient-to-b dark:from-slate-700 dark:to-slate-900 border-t border-slate-200 dark:border-slate-700 z-20"},as={class:"flex items-center justify-center sm:justify-between flex-wrap"},ls={class:"text-xs sm:text-sm text-gray-500 dark:text-gray-400"},os=e("a",{href:"/",target:"_blank",class:"font-semibold text-red-400 hover:text-rose-300"},"Pulsar CMS",-1),rs=e("svg",{class:"shrink-0 h-5 w-5 mr-2",viewBox:"0 0 24 24"},[e("path",{class:"fill-current text-slate-600",d:"M19.714 14.7l-7.007 7.007-1.414-1.414 7.007-7.007c-.195-.4-.298-.84-.3-1.286a3 3 0 113 3 2.969 2.969 0 01-1.286-.3z"}),e("path",{class:"fill-current text-slate-400",d:"M10.714 18.3c.4-.195.84-.298 1.286-.3a3 3 0 11-3 3c.002-.446.105-.885.3-1.286l-6.007-6.007 1.414-1.414 6.007 6.007z"}),e("path",{class:"fill-current text-slate-600",d:"M5.7 10.714c.195.4.298.84.3 1.286a3 3 0 11-3-3c.446.002.885.105 1.286.3l7.007-7.007 1.414 1.414L5.7 10.714z"}),e("path",{class:"fill-current text-slate-400",d:"M19.707 9.292a3.012 3.012 0 00-1.415 1.415L13.286 5.7c-.4.195-.84.298-1.286.3a3 3 0 113-3 2.969 2.969 0 01-.3 1.286l5.007 5.006z"})],-1),ns=e("svg",{class:"w-4 h-4 fill-current text-red-400 shrink-0 mr-2",viewBox:"0 0 16 16"},[e("path",{d:"M4.3 4.5c1.9-1.9 5.1-1.9 7 0 .7.7 1.2 1.7 1.4 2.7l2-.3c-.2-1.5-.9-2.8-1.9-3.8C10.1.4 5.7.4 2.9 3.1L.7.9 0 7.3l6.4-.7-2.1-2.1zM15.6 8.7l-6.4.7 2.1 2.1c-1.9 1.9-5.1 1.9-7 0-.7-.7-1.2-1.7-1.4-2.7l-2 .3c.2 1.5.9 2.8 1.9 3.8 1.4 1.4 3.1 2 4.9 2 1.8 0 3.6-.7 4.9-2l2.2 2.2.8-6.4z"})],-1),is={class:"flex items-center space-x-2"},cs={href:"https://t.me/k_a_v_www",target:"_blank",class:"flex items-center space-x-2 text-blue-500 hover:text-blue-700 dark:text-blue-300 dark:hover:text-blue-500"},ds=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",class:"w-5 h-5 sm:w-6 sm:h-6"},[e("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.175 8.89l-1.4 6.63c-.105.467-.405.578-.82.36l-2.27-1.67-1.093 1.054c-.12.12-.222.222-.45.222l.168-2.39 4.35-3.923c.19-.168-.04-.263-.29-.095L8.78 11.167l-2.42-.76c-.464-.14-.474-.464.096-.684l9.452-3.65c.44-.16.82.108.66.717z"})],-1),us={class:"text-xs sm:text-sm text-gray-500 dark:text-gray-400"},hs={__name:"Footer",props:{canLogin:Boolean,canRegister:Boolean},setup(o){const{t:c,locale:n}=A(),{auth:h}=z().props,i=x(n.value);O(i,d=>{if(d!==n.value){n.value=d;const r=window.location.pathname.split("/");r[1]=d;const k=r.join("/")+window.location.search;Z.Inertia.visit(k,{preserveState:!1,preserveScroll:!0})}});const v=async()=>{try{await _e.post("/admin/cache/clear"),console.log("Кэш успешно очищен!"),window.location.reload()}catch(d){console.error("Ошибка при очистке кэша:",d)}};return(d,r)=>(t(),l("footer",ss,[e("div",as,[e("div",ls,[C(" © "+u(new Date().getFullYear())+" ",1),os,C(" "+u(a(c)("allRightsReserved")),1)]),a(h).user?(t(),_(a(g),{key:0,href:d.route("admin.index"),title:a(c)("administer"),class:"flex items-center px-3 py-1 text-md font-semibold text-orange-400 hover:text-rose-300 dark:text-violet-400 dark:hover:text-white focus:outline focus:outline-2 focus:rounded-sm focus:outline-red-500"},{default:f(()=>[rs,C(" "+u(a(c)("administer")),1)]),_:1},8,["href","title"])):$("",!0),e("button",{onClick:v,class:"flex items-center btn px-3 text-slate-900 dark:text-slate-100 rounded-sm border-2 border-slate-400 my-2 mx-1 sm:my-0 sm:mx-0"},[ns,C(" "+u(a(c)("clearCache")),1)]),e("div",is,[e("a",cs,[ds,e("span",us,u(a(c)("supportService")),1)]),m(se,{modelValue:i.value,"onUpdate:modelValue":r[0]||(r[0]=k=>i.value=k)},null,8,["modelValue"])])])]))}},fs={class:"min-h-screen flex justify-center flex-col lg:flex-row tracking-wider"},ks={__name:"DefaultLayout",props:{title:String,canLogin:Boolean,canRegister:Boolean,laravelVersion:String,phpVersion:String},setup(o){const{siteSettings:c}=z().props,{props:n}=z();return(h,i)=>(t(),l(B,null,[m(a(fe),{title:o.title},null,8,["title"]),m(et,{"can-login":o.canLogin,"can-register":o.canRegister},null,8,["can-login","can-register"]),e("main",fs,[!a(c).ViewLeftColumn||a(c).ViewLeftColumn==="true"?(t(),_(jt,{key:0})):$("",!0),ve(h.$slots,"default"),!a(c).ViewRightColumn||a(c).ViewRightColumn==="true"?(t(),_(ts,{key:1})):$("",!0)]),m(hs,{"can-login":o.canLogin,"can-register":o.canRegister},null,8,["can-login","can-register"])],64))}};export{ks as _,ae as a,H as b};
