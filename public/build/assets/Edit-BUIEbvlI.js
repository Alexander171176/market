import{y as C,u as B,T as Z,e as M,o as T,w as m,f as s,i as l,p,t as n,k as e,A as D,q as F}from"./vendor-gheHEdqg.js";import{A as I}from"./AdminLayout-DX8XUeLo.js";import{T as L}from"./TitlePage-Fnu_rZTs.js";import{_ as k}from"./DefaultButton-FyNer1Yu.js";import{_ as d,a as f}from"./InputText-IOnQSMlX.js";import{_ as u}from"./InputError-CIFa2r6z.js";import{_ as N}from"./PrimaryButton-D6YF1qU9.js";import{_ as P}from"./MetaDescTextarea-BG2a4CzK.js";import{_ as S,a as q,b as E}from"./InputNumber-CWLxaT_B.js";import{_ as O,a as W}from"./CategorySelect-CxWmO4JS.js";import"./vendor-axios-jn5v1YEJ.js";import"./vendor-lodash-DlPAqqwV.js";import"./sidebarIcons-4a0tifbk.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ResponsiveNavLink-rBqbn9MM.js";import"./ScrollButtons-CW8XMUmz.js";import"./app-C-GmA_Q4.js";import"./auth-image-XbvYdkSi.js";const G={class:"px-4 sm:px-6 lg:px-8 py-8 w-full max-w-12xl mx-auto"},H={class:"p-4 bg-slate-50 dark:bg-slate-700 border border-blue-400 dark:border-blue-200 shadow-lg shadow-gray-500 dark:shadow-slate-400 bg-opacity-95 dark:bg-opacity-95"},J={class:"sm:flex sm:justify-between sm:items-center mb-2"},K=s("svg",{class:"w-4 h-4 fill-current text-slate-100 shrink-0 mr-2",viewBox:"0 0 16 16"},[s("path",{d:"M4.3 4.5c1.9-1.9 5.1-1.9 7 0 .7.7 1.2 1.7 1.4 2.7l2-.3c-.2-1.5-.9-2.8-1.9-3.8C10.1.4 5.7.4 2.9 3.1L.7.9 0 7.3l6.4-.7-2.1-2.1zM15.6 8.7l-6.4.7 2.1 2.1c-1.9 1.9-5.1 1.9-7 0-.7-.7-1.2-1.7-1.4-2.7l-2 .3c.2 1.5.9 2.8 1.9 3.8 1.4 1.4 3.1 2 4.9 2 1.8 0 3.6-.7 4.9-2l2.2 2.2.8-6.4z"})],-1),Q=s("div",{class:"grid grid-flow-col sm:auto-cols-max justify-start sm:justify-end gap-2"},null,-1),R={class:"mb-3 flex justify-between flex-col lg:flex-row items-center gap-3"},X={class:"flex justify-between w-full"},Y={class:"flex flex-row items-center"},ee={class:"flex flex-row items-center gap-2"},te={class:"h-8 flex items-center"},se={class:"mb-3 flex justify-between flex-col lg:flex-row items-center gap-3"},le={class:"flex flex-row items-center"},ae={class:"flex flex-row items-center gap-2"},oe={class:"mb-3 flex flex-col items-start"},re={class:"flex justify-between w-full"},ie={class:"text-md text-gray-900 dark:text-gray-400 mt-1"},ne={class:"mb-3 flex flex-col items-start"},ce={class:"mb-3 flex flex-col items-start"},me={class:"flex justify-between w-full"},de={class:"text-md text-gray-900 dark:text-gray-400 mt-1"},ue={class:"mb-3 flex flex-col items-start"},pe={class:"flex justify-between w-full"},fe={class:"text-md text-gray-900 dark:text-gray-400 mt-1"},_e={class:"flex items-center justify-center mt-4"},ge=s("svg",{class:"w-4 h-4 fill-current text-slate-100 shrink-0 mr-2",viewBox:"0 0 16 16"},[s("path",{d:"M4.3 4.5c1.9-1.9 5.1-1.9 7 0 .7.7 1.2 1.7 1.4 2.7l2-.3c-.2-1.5-.9-2.8-1.9-3.8C10.1.4 5.7.4 2.9 3.1L.7.9 0 7.3l6.4-.7-2.1-2.1zM15.6 8.7l-6.4.7 2.1 2.1c-1.9 1.9-5.1 1.9-7 0-.7-.7-1.2-1.7-1.4-2.7l-2 .3c.2 1.5.9 2.8 1.9 3.8 1.4 1.4 3.1 2 4.9 2 1.8 0 3.6-.7 4.9-2l2.2 2.2.8-6.4z"})],-1),ve=s("svg",{class:"w-4 h-4 fill-current text-slate-100",viewBox:"0 0 16 16"},[s("path",{d:"M14.3 2.3L5 11.6 1.7 8.3c-.4-.4-1-.4-1.4 0-.4.4-.4 1 0 1.4l4 4c.2.2.4.3.7.3.3 0 .5-.1.7-.3l10-10c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0z"})],-1),Fe={__name:"Edit",props:{setting:{type:Object,default:()=>({})}},setup($){var g,v,x,y,h,w,b,V;const _=C(),{t:o}=B(),c=$,t=Z({_method:"PUT",sort:((g=c.setting)==null?void 0:g.sort)??0,type:((v=c.setting)==null?void 0:v.type)??"",option:((x=c.setting)==null?void 0:x.option)??"",value:((y=c.setting)==null?void 0:y.value)??"",constant:((h=c.setting)==null?void 0:h.constant)??"",category:((w=c.setting)==null?void 0:w.category)??"",description:((b=c.setting)==null?void 0:b.description)??"",activity:!!(((V=c.setting)==null?void 0:V.activity)??!1)}),U=i=>{const a=i.target.value.replace(/[^A-Za-z0-9\-]/g,"");t.option=a.charAt(0).toUpperCase()+a.slice(1)},j=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1_$2").toUpperCase(),z=()=>{t.option&&(t.constant=j(t.option))},A=()=>{t.transform(i=>({...i,activity:i.activity?1:0})),t.post(route("admin.parameters.update",c.setting.id),{preserveScroll:!0,forceFormData:!0,onSuccess:i=>{_.success("Параметр успешно обновлен!")},onError:i=>{console.error("❌ Ошибка при обновлении параметра:",i);const a=i[Object.keys(i)[0]];_.error(a||"Пожалуйста, проверьте правильность заполнения полей.")}})};return(i,a)=>(T(),M(I,{title:e(o)("editParameter")},{header:m(()=>[l(L,null,{default:m(()=>{var r;return[p(n(e(o)("editParameter"))+" ID:"+n((r=c.setting)==null?void 0:r.id),1)]}),_:1})]),default:m(()=>[s("div",G,[s("div",H,[s("div",J,[l(k,{href:i.route("admin.parameters.index")},{icon:m(()=>[K]),default:m(()=>[p(" "+n(e(o)("back")),1)]),_:1},8,["href"]),Q]),s("form",{onSubmit:D(A,["prevent"]),class:"p-3 w-full"},[s("div",R,[s("div",X,[s("div",Y,[l(S,{modelValue:e(t).activity,"onUpdate:modelValue":a[0]||(a[0]=r=>e(t).activity=r)},null,8,["modelValue"]),l(q,{for:"activity",text:e(o)("activity")},null,8,["text"])])]),s("div",ee,[s("div",te,[l(d,{for:"sort",value:e(o)("sort"),class:"text-sm"},null,8,["value"])]),l(E,{id:"sort",type:"number",modelValue:e(t).sort,"onUpdate:modelValue":a[1]||(a[1]=r=>e(t).sort=r),autocomplete:"sort",class:"w-full lg:w-28"},null,8,["modelValue"]),l(u,{class:"mt-2 lg:mt-0",message:e(t).errors.sort},null,8,["message"])])]),s("div",se,[s("div",le,[l(d,{for:"category",value:e(o)("parameterCategory"),class:"w-full"},null,8,["value"]),l(O,{modelValue:e(t).category,"onUpdate:modelValue":a[2]||(a[2]=r=>e(t).category=r),error:e(t).errors.category},null,8,["modelValue","error"])]),s("div",ae,[l(d,{for:"type",value:e(o)("type"),class:"mr-3"},null,8,["value"]),l(W,{modelValue:e(t).type,"onUpdate:modelValue":a[3]||(a[3]=r=>e(t).type=r),error:e(t).errors.type,class:"w-full lg:w-64 mr-3"},null,8,["modelValue","error"])])]),s("div",oe,[s("div",re,[l(d,{for:"option",value:e(o)("parameterName")},null,8,["value"]),s("div",ie,n(e(t).option.length)+" / 255 "+n(e(o)("characters")),1)]),l(f,{id:"option",type:"text",modelValue:e(t).option,"onUpdate:modelValue":a[4]||(a[4]=r=>e(t).option=r),onInput:U,required:"",maxlength:"255",autocomplete:"option",pattern:"[A-Za-z0-9\\-]+",title:e(o)("urlVerification")},null,8,["modelValue","title"]),l(u,{class:"mt-2",message:e(t).errors.option},null,8,["message"])]),s("div",ne,[l(d,{for:"constant",value:e(o)("parameterConstant")},null,8,["value"]),l(f,{id:"constant",type:"text",modelValue:e(t).constant,"onUpdate:modelValue":a[5]||(a[5]=r=>e(t).constant=r),onFocus:z,required:"",autocomplete:"constant",pattern:"[A-Z][A-Z0-9_]*"},null,8,["modelValue"]),l(u,{class:"mt-2",message:e(t).errors.constant},null,8,["message"])]),s("div",ce,[s("div",me,[l(d,{for:"value",value:e(o)("parameterValue")},null,8,["value"]),s("div",de,n(e(t).value.length)+" / 255 "+n(e(o)("characters")),1)]),l(f,{id:"value",type:"text",modelValue:e(t).value,"onUpdate:modelValue":a[6]||(a[6]=r=>e(t).value=r),maxlength:"255",autocomplete:"value",pattern:"^(https?:\\/\\/)?[A-Za-z0-9\\.\\-]+(:[0-9]+)?(\\/[A-Za-z0-9\\-\\/]+)?$",title:e(o)("urlVerification")},null,8,["modelValue","title"]),l(u,{class:"mt-2",message:e(t).errors.value},null,8,["message"])]),s("div",ue,[s("div",pe,[l(d,{for:"description",value:e(o)("parameterDescription")},null,8,["value"]),s("div",fe,n(e(t).description.length)+" / 255 "+n(e(o)("characters")),1)]),l(P,{modelValue:e(t).description,"onUpdate:modelValue":a[7]||(a[7]=r=>e(t).description=r),class:"w-full"},null,8,["modelValue"]),l(u,{class:"mt-2",message:e(t).errors.description},null,8,["message"])]),s("div",_e,[l(k,{href:i.route("admin.parameters.index"),class:"mb-3"},{icon:m(()=>[ge]),default:m(()=>[p(" "+n(e(o)("back")),1)]),_:1},8,["href"]),l(N,{class:F(["ms-4 mb-0",{"opacity-25":e(t).processing}]),disabled:e(t).processing},{icon:m(()=>[ve]),default:m(()=>[p(" "+n(e(o)("save")),1)]),_:1},8,["class","disabled"])])],32)])])]),_:1},8,["title"]))}};export{Fe as default};
