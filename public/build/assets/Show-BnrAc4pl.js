import{u as B,Q as L,l as y,m as d,o as i,f as t,n as w,q as C,t as n,k as e,z as D,a4 as S,G as j,e as R,w as k,i as c,aU as z,J as E,p as g}from"./vendor-gheHEdqg.js";import{V as N,_ as T}from"./DefaultLayout-ephW1sRy.js";import{R as U}from"./RecommendedVideos-CLMMJBj0.js";import{a as I}from"./vendor-axios-jn5v1YEJ.js";import"./vendor-lodash-DlPAqqwV.js";import"./ResponsiveNavLink-rBqbn9MM.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./LogoutButton-D4SDj_3T.js";import"./ScrollButtons-CW8XMUmz.js";import"./app-C-GmA_Q4.js";const P={itemprop:"interactionStatistic",itemscope:"",itemtype:"http://schema.org/InteractionCounter"},q=t("meta",{itemprop:"interactionType",content:"http://schema.org/LikeAction"},null,-1),F=["content"],G=["title"],J=t("path",{d:"M3,9H1a1,1,0,0,0-1,1V22a1,1,0,0,0,1,1H4V10A1,1,0,0,0,3,9Z"},null,-1),O=t("path",{d:"M21.882,8.133A2.986,2.986,0,0,0,21,8H15V5c0-3.824-2.589-4.942-3.958-5a1.017,1.017,0,0,0-.734.277A1,1,0,0,0,10,1V5.638l-4,4.8V23H18.23A2.985,2.985,0,0,0,21.1,20.882l2.769-9A3,3,0,0,0,21.882,8.133Z"},null,-1),Q=[J,O],Y={key:0,class:"ml-1 font-semibold text-xs dark:text-slate-100"},K={__name:"LikeButtonVideo",setup(A){const{t:a}=B(),{video:m}=L().props,o=y(m.likes_count),r=y(m.already_liked||!1),b=()=>{r.value||I.post(route("videos.like",m.id)).then(s=>{s.data.success?(o.value=s.data.likes,r.value=!0):alert(s.data.message||a("alertLikeAlready"))}).catch(s=>{var l;((l=s.response)==null?void 0:l.status)===401?alert(a("alertLikeAuthRequired")):(console.error("Ошибка лайка:",s),alert(a("alertLikeError")))})};return(s,l)=>(i(),d("div",P,[q,t("meta",{itemprop:"userInteractionCount",content:o.value},null,8,F),t("div",{title:e(a)("like"),class:"w-fit flex flex-row items-center justify-center cursor-pointer"},[(i(),d("svg",{onClick:b,class:C(["w-4 h-4 fill-current transition-all duration-200 transform",r.value?"text-red-500 dark:text-red-300":"text-amber-500 dark:text-amber-400 hover:text-yellow-300 dark:hover:text-yellow-200 active:text-yellow-300 dark:active:text-yellow-100"]),viewBox:"0 0 24 24"},Q,2)),o.value>0?(i(),d("span",Y,n(o.value),1)):w("",!0)],8,G)]))}},W=["content"],X=["content"],tt=["content"],et=["content"],ot=t("meta",{name:"viewport",content:"width=device-width, initial-scale=1"},null,-1),st=["content"],nt=["content"],at=t("meta",{property:"og:type",content:"video"},null,-1),lt=["content"],it=["content"],rt=["content"],ct=t("meta",{name:"twitter:card",content:"summary_large_image"},null,-1),dt=["content"],mt=["content"],ut=["content"],_t=["content"],ht=["content"],pt=["content"],xt={class:"text-sm mb-4","aria-label":"Breadcrumb"},vt={class:"list-reset flex items-center space-x-0"},ft=t("li",null,[t("span",{class:"mx-1 text-slate-900 dark:text-slate-100"},"/")],-1),kt={class:"text-slate-900 dark:text-slate-100"},gt={class:"flex items-center justify-center my-4 text-center font-bolder text-xl text-slate-900 dark:text-slate-100"},yt=t("svg",{class:"w-4 h-4 fill-current text-blue-400 dark:text-indigo-300 mr-2",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M0 0h2v16H0V0Zm14 0h2v16h-2V0Zm-3 7H5c-.6 0-1-.4-1-1V1c0-.6.4-1 1-1h6c.6 0 1 .4 1 1v5c0 .6-.4 1-1 1ZM6 5h4V2H6v3Zm5 11H5c-.6 0-1-.4-1-1v-5c0-.6.4-1 1-1h6c.6 0 1 .4 1 1v5c0 .6-.4 1-1 1Zm-5-2h4v-3H6v3Z"})],-1),wt=["title"],bt={class:"flex-1"},Vt={class:"flex flex-row items-center justify-between"},Ht=["datetime"],$t=t("svg",{class:"w-3 h-3 fill-current shrink-0 mr-1",viewBox:"0 0 16 16"},[t("path",{d:"M15 2h-2V0h-2v2H9V0H7v2H5V0H3v2H1a1 1 0 00-1 1v12a1 1 0 001 1h14a1 1 0 001-1V3a1 1 0 00-1-1zm-1 12H2V6h12v8z"})],-1),Mt={key:0,class:"flex items-center my-4 tracking-wide text-sm font-semibold text-black dark:text-white"},Bt=["innerHTML"],Nt={__name:"Show",setup(A){const{t:a}=B(),{appUrl:m,video:o,recommendedVideos:r,locale:b,siteSettings:s}=L().props,l=y(!1);let u;const V=()=>{l.value=document.documentElement.classList.contains("dark")};D(()=>{V(),u=new MutationObserver(V),u.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]})}),S(()=>{u&&u.disconnect()});const Z=j(()=>l.value?s.PublicDarkBackgroundColor:s.PublicLightBackgroundColor),f=_=>{const h=new Date(_),p=String(h.getDate()).padStart(2,"0"),x=String(h.getMonth()+1).padStart(2,"0"),v=h.getFullYear();return`${p}.${x}.${v}`};return(_,h)=>(i(),R(T,{title:e(o).title,"can-login":_.$page.props.canLogin,"can-register":_.$page.props.canRegister},{default:k(()=>[c(e(z),null,{default:k(()=>{var p,x,v,H,$,M;return[t("title",null,n(e(o).title),1),t("meta",{name:"title",content:e(o).title||""},null,8,W),t("meta",{name:"description",content:e(o).meta_desc||""},null,8,X),t("meta",{name:"keywords",content:e(o).meta_keywords||""},null,8,tt),t("meta",{name:"author",content:e(o).author||""},null,8,et),ot,t("meta",{property:"og:title",content:e(o).title||""},null,8,st),t("meta",{property:"og:description",content:e(o).meta_desc||""},null,8,nt),at,t("meta",{property:"og:url",content:`/videos/${e(o).url}`},null,8,lt),t("meta",{property:"og:image",content:((x=(p=e(o).images)==null?void 0:p[0])==null?void 0:x.url)||""},null,8,it),t("meta",{property:"og:locale",content:e(o).locale||"ru_RU"},null,8,rt),ct,t("meta",{name:"twitter:title",content:e(o).title||""},null,8,dt),t("meta",{name:"twitter:description",content:e(o).meta_desc||""},null,8,mt),t("meta",{name:"twitter:image",content:((H=(v=e(o).images)==null?void 0:v[0])==null?void 0:H.url)||""},null,8,ut),t("meta",{itemprop:"name",content:e(o).title||""},null,8,_t),t("meta",{itemprop:"description",content:e(o).meta_desc||""},null,8,ht),t("meta",{itemprop:"image",content:((M=($=e(o).images)==null?void 0:$[0])==null?void 0:M.url)||""},null,8,pt)]}),_:1}),t("div",{class:C(["flex-1 p-4",[Z.value]])},[t("nav",xt,[t("ol",vt,[t("li",null,[c(e(E),{href:"/",class:"hover:underline text-slate-900 dark:text-slate-100"},{default:k(()=>[g(n(e(a)("home")),1)]),_:1})]),ft,t("li",kt,n(e(o).title),1)])]),t("h1",gt,[yt,g(" "+n(e(o).title)+" ",1),t("div",{class:"ml-2 w-6 h-5 flex items-center justify-center rounded-full text-[9px] font-semibold text-black dark:text-white bg-slate-100 dark:bg-slate-700",title:e(a)("views")},n(e(o).views),9,wt)]),t("div",bt,[c(N,{video:e(o)},null,8,["video"]),t("div",Vt,[t("time",{datetime:f(e(o).published_at),class:"flex items-center justify-start opacity-75 text-left text-xs font-semibold text-slate-600 dark:text-slate-400"},[$t,g(" "+n(e(a)("publishedAt"))+": "+n(f(e(o).published_at)),1)],8,Ht),c(K,{"already-liked":e(o).already_liked},null,8,["already-liked"])]),e(o).short?(i(),d("p",Mt,n(e(o).short),1)):w("",!0),e(o).description?(i(),d("div",{key:1,class:"w-full mx-auto my-4 dark:text-slate-200",innerHTML:e(o).description,itemprop:"articleBody"},null,8,Bt)):w("",!0)]),c(U,{videos:e(r),formatDate:f},null,8,["videos"])],2)]),_:1},8,["title","can-login","can-register"]))}};export{Nt as default};
