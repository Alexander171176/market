import{u as T,l as w,C as Y,aT as ee,a$ as de,m as o,o as t,x as ue,G as M,Q as P,z as H,f as e,i as h,w as m,t as u,k as a,q as V,J as g,F as B,v as A,a4 as N,p as C,n as $,aW as he,A as X,e as y,N as G,O as q,E as ve,a_ as te,I as se,L as le,aU as fe,aP as me}from"./vendor-gheHEdqg.js";import{A as xe,a as ge,_ as K}from"./ResponsiveNavLink-rBqbn9MM.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as _e}from"./LogoutButton-D4SDj_3T.js";import{_ as ae,S as pe}from"./ScrollButtons-CW8XMUmz.js";import{a as be}from"./vendor-axios-jn5v1YEJ.js";function ke(){const{locale:s}=T(),n=w(s.value);return Y(n,r=>{r!==s.value&&(s.value=r,ee.Inertia.visit(`/${r}`,{preserveState:!1,preserveScroll:!0}))}),{selectedLocale:n}}const we={class:"flex items-center gap-3 px-3 pb-0.5"},ye=ue('<a href="#" title="Instagram" class="social-icon group" data-v-84f2e043><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="transition duration-300 group-hover:scale-110 text-blue-500 dark:text-slate-200 hover:text-blue-700 dark:hover:text-slate-50" data-v-84f2e043><path d="M4 4m0 4a4 4 0 0 1 4 -4h8a4 4 0 0 1 4 4v8a4 4 0 0 1 -4 4h-8a4 4 0 0 1 -4 -4z" data-v-84f2e043></path><path d="M12 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" data-v-84f2e043></path><path d="M16.5 7.5l0 .01" data-v-84f2e043></path></svg></a><a href="#" title="X (Twitter)" class="social-icon group" data-v-84f2e043><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="transition duration-300 group-hover:scale-110 text-blue-500 dark:text-slate-200 hover:text-blue-700 dark:hover:text-slate-50" data-v-84f2e043><path d="M4 4l11.733 16h4.267l-11.733 -16z" data-v-84f2e043></path><path d="M4 20l6.768 -6.768m2.46 -2.46l6.772 -6.772" data-v-84f2e043></path></svg></a><a href="#" title="Facebook" class="social-icon group" data-v-84f2e043><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="transition duration-300 group-hover:scale-110 text-blue-500 dark:text-slate-200 hover:text-blue-700 dark:hover:text-slate-50" data-v-84f2e043><path d="M7 10v4h3v7h4v-7h3l1 -4h-4v-2a1 1 0 0 1 1 -1h3v-4h-3a5 5 0 0 0 -5 5v2h-3" data-v-84f2e043></path></svg></a><a href="#" title="VK" class="social-icon group" data-v-84f2e043><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="transition duration-300 group-hover:scale-110 text-blue-500 dark:text-slate-200 hover:text-blue-700 dark:hover:text-slate-50" data-v-84f2e043><path d="M14 19h-4a8 8 0 0 1 -8 -8v-5h4v5a4 4 0 0 0 4 4h0v-9h4v4.5l.03 0a4.531 4.531 0 0 0 3.97 -4.496h4l-.342 1.711a6.858 6.858 0 0 1 -3.658 4.789h0a5.34 5.34 0 0 1 3.566 4.111l.434 2.389h0h-4a4.531 4.531 0 0 0 -3.97 -4.496v4.5z" data-v-84f2e043></path></svg></a>',4),$e=[ye],Se=de({__name:"SocialIcons",setup(s){return(n,r)=>(t(),o("div",we,$e))}}),Ce=U(Se,[["__scopeId","data-v-84f2e043"]]),Me={class:"flex flex-wrap justify-center p-1"},Ve={key:0,class:"flex flex-wrap"},ze=e("li",null,[e("a",{href:"https://vcg.org.kz/",target:"_blank",rel:"noopener noreferrer",class:"flex items-center mx-2 pt-1 uppercase text-xs font-semibold text-slate-900 hover:text-blue-500 transition duration-300"}," VCG ")],-1),Be={key:1,class:"text-slate-100"},Le={__name:"TopMenuRubrics",setup(s){const{t:n}=T(),r=w([]),i=M(()=>P().props.locale??"ru"),d=async()=>{const f=`/${i.value}/api/menu-rubrics`;try{const c=await fetch(f);if(!c.ok){console.error(`[TopMenuRubrics] Ошибка загрузки: ${c.status}`);return}const x=await c.json();r.value=Array.isArray(x.rubrics)?x.rubrics:[]}catch(c){console.error("[TopMenuRubrics] Ошибка сети:",c)}};return H(()=>{d()}),Y(i,(v,f)=>{v!==f&&d()}),(v,f)=>(t(),o("nav",Me,[r.value.length?(t(),o("ul",Ve,[e("li",null,[h(a(g),{href:"/",class:V(["flex items-center",["mx-2 pb-0.5 text-sm font-medium transition duration-300",v.$page.url.includes("/")?"border-b-2 border-blue-500 dark:border-blue-500 text-blue-500":"text-slate-900 hover:text-blue-500"]])},{default:m(()=>[e("span",null,u(a(n)("home")),1)]),_:1},8,["class"])]),(t(!0),o(B,null,A(r.value,c=>(t(),o("li",{key:c.id},[h(a(g),{href:`/rubrics/${c.url}`,class:V(["flex items-center",["mx-2 pb-0.5 text-sm font-medium transition duration-300",v.$page.url.includes(`/rubrics/${c.url}`)?"border-b-2 border-blue-500 dark:border-blue-500 text-blue-500":"text-slate-900 hover:text-blue-500"]])},{default:m(()=>[e("span",null,u(c.title),1)]),_:2},1032,["href","class"])]))),128)),e("li",null,[h(a(g),{href:"/videos",class:V(["flex items-center",["mx-2 pb-0.5 text-sm font-medium transition duration-300",v.$page.url.includes("/videos")?"border-b-2 border-blue-500 dark:border-blue-500 text-blue-500":"text-slate-900 hover:text-blue-500"]])},{default:m(()=>[e("span",null,u(a(n)("allVideos")),1)]),_:1},8,["class"])]),ze])):(t(),o("p",Be,u(a(n)("dataUploaded")),1))]))}},je={class:"space-y-1 bg-gray-200 dark:bg-gray-700 flex flex-wrap justify-center p-1"},Ie={key:0,class:"flex flex-wrap"},Re=e("li",null,[e("a",{href:"https://vcg.org.kz/",target:"_blank",rel:"noopener noreferrer",class:"flex items-center mx-2 pt-1 uppercase text-xs font-semibold text-slate-900 dark:text-slate-100 hover:text-red-400 transition duration-300"}," VCG ")],-1),He={key:1,class:"text-slate-100"},De={__name:"MobileTopMenuRubrics",setup(s){const{t:n}=T(),r=w([]),i=M(()=>P().props.locale??"ru"),d=async()=>{const f=`/${i.value}/api/menu-rubrics`;try{const c=await fetch(f);if(!c.ok){console.error(`[TopMenuRubrics] Ошибка загрузки: ${c.status}`);return}const x=await c.json();r.value=Array.isArray(x.rubrics)?x.rubrics:[]}catch(c){console.error("[TopMenuRubrics] Ошибка сети:",c)}};return H(()=>{d()}),Y(i,(v,f)=>{v!==f&&d()}),(v,f)=>(t(),o("nav",je,[r.value.length?(t(),o("ul",Ie,[e("li",null,[h(a(g),{href:"/",class:V(["flex items-center",["mx-2 pb-0.5 mb-2 text-sm font-medium transition duration-300",v.$page.url.includes("/")?"border-b-2 border-blue-500 dark:border-blue-500 text-blue-700 dark:text-blue-200":"text-slate-900 dark:text-slate-200 hover:text-blue-500"]])},{default:m(()=>[e("span",null,u(a(n)("home")),1)]),_:1},8,["class"])]),(t(!0),o(B,null,A(r.value,c=>(t(),o("li",{key:c.id},[h(a(g),{href:`/rubrics/${c.url}`,class:V(["flex items-center",["mx-2 pb-0.5 mb-2 text-sm font-medium transition duration-300",v.$page.url.includes(`/rubrics/${c.url}`)?"border-b-2 border-blue-500 dark:border-blue-500 text-blue-700 dark:text-blue-200":"text-slate-900 dark:text-slate-200 hover:text-blue-500"]])},{default:m(()=>[e("span",null,u(c.title),1)]),_:2},1032,["href","class"])]))),128)),e("li",null,[h(a(g),{href:"/videos",class:V(["flex items-center",["mx-2 pb-0.5 mb-2 text-sm font-medium transition duration-300",v.$page.url.includes("/videos")?"border-b-2 border-blue-500 dark:border-blue-500 text-blue-700 dark:text-blue-200":"text-slate-900 dark:text-slate-200 hover:text-blue-500"]])},{default:m(()=>[e("span",null,u(a(n)("allVideos")),1)]),_:1},8,["class"])]),Re])):(t(),o("p",He,u(a(n)("dataUploaded")),1))]))}},Pe=s=>(G("data-v-16204ec1"),s=s(),q(),s),Ae={class:"max-w-12xl mx-auto"},Te={class:"flex items-center justify-center h-10"},Ee={class:"ml-2 flex items-center"},Fe={class:"max-w-12xl mx-auto px-4 sm:px-3 md:px-2 xl:px-6"},Ne={class:"flex items-center justify-between h-8"},Ue={class:"ml-2 flex items-center"},Oe={key:0,class:"relative flex items-center mr-0.5"},Ye=Pe(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24"},[e("path",{fill:"currentColor",d:"M12 3.75a3.75 3.75 0 1 0 0 7.5a3.75 3.75 0 0 0 0-7.5m-4 9.5A3.75 3.75 0 0 0 4.25 17v1.188c0 .754.546 1.396 1.29 1.517c4.278.699 8.642.699 12.92 0a1.537 1.537 0 0 0 1.29-1.517V17A3.75 3.75 0 0 0 16 13.25h-.34c-.185 0-.369.03-.544.086l-.866.283a7.251 7.251 0 0 1-4.5 0l-.866-.283a1.752 1.752 0 0 0-.543-.086z"})],-1)),Ge=[Ye],qe={key:0,class:"user-modal-dropdown absolute right-0 top-8 w-36 bg-gray-50 dark:bg-gray-600 border border-gray-300 dark:border-gray-700 rounded shadow-md shadow-gray-400 dark:shadow-gray-800 z-50 text-sm"},Ze={class:"flex flex-col p-2 space-y-1"},Je={type:"submit",class:"text-left w-full text-slate-900 dark:text-slate-100 hover:text-blue-600 dark:hover:text-blue-400 font-semibold"},Ke={class:"-me-2 flex items-center md:hidden"},Qe={class:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},We={key:0,class:"pb-1 space-y-1 bg-gray-200 dark:bg-gray-700"},Xe={class:"bg-slate-100 text-sm py-0 shadow-sm"},et={class:"max-w-12xl mx-auto px-4 sm:px-3 md:px-2 xl:px-6 flex justify-between items-center"},tt={__name:"Header",props:{canLogin:Boolean,canRegister:Boolean},emits:["toggleNavigationDropdown"],setup(s,{emit:n}){const{t:r}=T(),{siteSettings:i}=P().props,{selectedLocale:d}=ke(),v=w(!1);let f;const c=()=>{v.value=document.documentElement.classList.contains("dark")};H(()=>{c(),f=new MutationObserver(c),f.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]})}),N(()=>{f&&f.disconnect()});const x=M(()=>v.value?i.PublicDarkBackgroundColor:i.PublicLightBackgroundColor),D=w(null),I=w(null),b=w(null),_=w(!1),S=w(0),p=w(0),k=w(!1),{auth:z}=P().props,j=()=>{ve.post(route("logout"))},l=()=>{D.value&&(S.value=D.value.offsetHeight),I.value&&(p.value=I.value.offsetHeight);const R=window.scrollY;b.value&&(b.value.style.height=R>=S.value?`${p.value}px`:"0px"),_.value=R>=S.value};let L;const E=()=>{clearTimeout(L),L=setTimeout(()=>{_.value&&b.value&&(_.value=!1,b.value.style.height="0px"),l()},150)};H(()=>{l(),window.addEventListener("scroll",l,{passive:!0}),window.addEventListener("resize",E)}),N(()=>{window.removeEventListener("scroll",l),window.removeEventListener("resize",E),clearTimeout(L)});const ne=M(()=>v.value?i.PublicHeaderDarkBackgroundColor:i.PublicHeaderLightBackgroundColor),ie=M(()=>({"nav-fixed":_.value,"shadow-md":_.value})),ce=M(()=>({"header-placeholder":!0,active:_.value})),Z=w(!1);return H(()=>{window.addEventListener("scroll",l,{passive:!0}),window.addEventListener("resize",E),setTimeout(l,50)}),(R,F)=>(t(),o(B,null,[e("div",{ref_key:"topBarRef",ref:D,class:V([x.value])},[e("div",Ae,[e("div",Te,[e("div",Ee,[h(Ce,{class:"flex"})])])])],2),e("div",{ref_key:"navPlaceholderRef",ref:b,class:V([ce.value,x.value])},null,2),e("nav",{ref_key:"mainNavRef",ref:I,class:V([[ie.value,ne.value],"border-t border-b border-dashed border-slate-100 dark:border-slate-100 relative z-10 transition-all duration-300 ease-in-out"])},[e("div",Fe,[e("div",Ne,[h(a(g),{href:R.route("home"),title:a(r)("home"),class:"flex items-center border-r border-slate-400 px-4 h-6 text-md font-semibold text-slate-50 hover:text-blue-500 dark:text-slate-50 dark:hover:text-blue-500 focus:outline focus:outline-2 focus:rounded-sm focus:outline-blue dark:focus:outline-blue-500"},{default:m(()=>[h(xe,{class:"block h-5 w-auto mr-2"}),C(" VCG ")]),_:1},8,["href","title"]),e("div",Ue,[h(ae,{modelValue:a(d),"onUpdate:modelValue":F[0]||(F[0]=J=>he(d)?d.value=J:null),class:"mr-1"},null,8,["modelValue"]),s.canLogin?(t(),o("div",Oe,[e("button",{onClick:F[1]||(F[1]=J=>Z.value=!Z.value),class:"user-profile-button text-white hover:text-blue-600 transition"},Ge),Z.value?(t(),o("div",qe,[e("div",Ze,[a(z).user?(t(),o(B,{key:0},[h(a(g),{href:R.route("profile.show"),class:"text-slate-900 dark:text-slate-100 hover:text-blue-600 dark:hover:text-blue-400 font-semibold"},{default:m(()=>[C(u(a(r)("profile")),1)]),_:1},8,["href"]),e("form",{onSubmit:X(j,["prevent"])},[e("button",Je,u(a(r)("logout")),1)],32)],64)):(t(),o(B,{key:1},[h(a(g),{href:R.route("login"),class:"text-slate-900 dark:text-slate-100 hover:text-blue-600 dark:hover:text-blue-400 font-semibold"},{default:m(()=>[C(u(a(r)("login")),1)]),_:1},8,["href"]),s.canRegister?(t(),y(a(g),{key:0,href:R.route("register"),class:"text-slate-900 dark:text-slate-100 hover:text-blue-600 dark:hover:text-blue-400 font-semibold"},{default:m(()=>[C(u(a(r)("register")),1)]),_:1},8,["href"])):$("",!0)],64))])])):$("",!0)])):$("",!0),h(ge)]),e("div",Ke,[e("button",{onClick:F[2]||(F[2]=J=>k.value=!k.value),class:"inline-flex items-center justify-center p-0.5 rounded-xs text-white focus:outline-none transition duration-150 ease-in-out"},[(t(),o("svg",Qe,[e("path",{class:V({hidden:k.value,"inline-flex":!k.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,2),e("path",{class:V({hidden:!k.value,"inline-flex":k.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,2)]))])])])]),e("div",{class:V([{block:k.value,hidden:!k.value},"md:hidden"])},[h(De,{isOpen:k.value},null,8,["isOpen"]),s.canLogin?(t(),o("div",We,[a(z).user?(t(),y(K,{key:0,href:R.route("dashboard")},{default:m(()=>[C(u(a(r)("profile")),1)]),_:1},8,["href"])):$("",!0),a(z).user?(t(),o("form",{key:1,onSubmit:X(j,["prevent"]),class:"w-full ml-2"},[h(_e,null,{default:m(()=>[C(u(a(r)("logout")),1)]),_:1})],32)):(t(),o(B,{key:2},[h(K,{href:R.route("login")},{default:m(()=>[C(u(a(r)("login")),1)]),_:1},8,["href"]),s.canRegister?(t(),y(K,{key:0,href:R.route("register")},{default:m(()=>[C(u(a(r)("register")),1)]),_:1},8,["href"])):$("",!0)],64))])):$("",!0)],2),e("div",Xe,[e("div",et,[h(Le,{isOpen:k.value,class:"hidden md:flex flex-grow justify-center space-x-2 px-1"},null,8,["isOpen"])])])],2)],64))}},st=U(tt,[["__scopeId","data-v-16204ec1"]]),lt={class:"h-full"},at=["src","alt","title"],ot=["src","alt","title"],oe={__name:"ArticleImageSlider",props:{images:{type:Array,required:!0},link:{type:String,default:""},alt:{type:String,default:""},title:{type:String,default:""}},setup(s){const n=s,r=w(0);let i=null;H(()=>{n.images.length>1&&(i=setInterval(()=>{r.value=(r.value+1)%n.images.length},3e3))}),te(()=>{i&&clearInterval(i)});const d=M(()=>n.images[r.value]);return(v,f)=>(t(),o("div",lt,[s.link?(t(),y(a(g),{key:0,href:s.link,class:"block h-full"},{default:m(()=>[e("img",{src:d.value.webp_url||d.value.url,alt:s.alt||d.value.alt,title:s.title||d.value.caption,class:"w-full h-full object-cover shadow-md shadow-gray-600 rounded-md transition-transform duration-300 hover:scale-105",loading:"lazy"},null,8,at)]),_:1},8,["href"])):(t(),o("img",{key:1,src:d.value.webp_url||d.value.url,alt:s.alt||d.value.alt,title:s.title||d.value.caption,class:"w-full h-full object-cover rounded-md",loading:"lazy"},null,8,ot))]))}},rt={class:"h-full overflow-hidden shadow-md shadow-gray-400 dark:shadow-gray-900"},nt=["src","alt","title"],O={__name:"BannerImageSlider",props:{images:{type:Array,required:!0},alt:{type:String,default:""},title:{type:String,default:""}},setup(s){const n=s,r=w(0);let i=null;H(()=>{n.images.length>1&&(i=setInterval(()=>{r.value=(r.value+1)%n.images.length},3e3))}),te(()=>{i&&clearInterval(i)});const d=M(()=>n.images[r.value]);return(v,f)=>(t(),o("div",rt,[e("img",{src:d.value.webp_url||d.value.url,alt:s.alt||d.value.alt,title:s.title||d.value.caption,class:"w-full h-full object-cover shadow-md shadow-gray-600 transition-transform duration-300 hover:scale-105",loading:"lazy"},null,8,nt)]))}},it=s=>(G("data-v-bf814320"),s=s(),q(),s),ct={class:"relative w-full aspect-video bg-black rounded mb-4 shadow-lg shadow-gray-400 dark:shadow-gray-800 overflow-hidden"},dt={key:0,class:"relative w-full h-full"},ut=["src","alt"],ht={class:"absolute inset-0 flex items-center justify-center z-20"},vt=it(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-8 h-8 text-red-600",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M8 5v14l11-7z"})],-1)),ft=[vt],mt=["innerHTML"],xt=["src"],gt={key:2,class:"w-full h-full object-contain",controls:""},_t=["src"],pt={__name:"VideoPlayer",props:{video:Object},emits:["play"],setup(s,{emit:n}){const r=s,{t:i}=T(),d=w(0),v=w(null),f=()=>{var b;c(),((b=r.video.images)==null?void 0:b.length)>1&&(v.value=setInterval(()=>{d.value=(d.value+1)%r.video.images.length},4e3))},c=()=>{v.value&&(clearInterval(v.value),v.value=null)};H(()=>{f()}),N(()=>{c()});const x=w(null),D=b=>{x.value=b,c()},I=b=>{const _=b.source_type,S=b.external_video_id;try{if(_==="youtube"){let p=null;const k=new URL(S);if(p=k.searchParams.get("v"),!p&&k.hostname==="youtu.be"&&(p=k.pathname.slice(1)),!p&&k.pathname){const z=k.pathname.match(/(?:\/shorts\/|\/watch\/|\/)([a-zA-Z0-9_-]{11})/);p=z?z[1]:null}return p?`https://www.youtube.com/embed/${p}`:null}if(_==="vimeo"){const p=S.match(/vimeo\.com\/(?:video\/)?(\d+)/);return p?`https://player.vimeo.com/video/${p[1]}`:null}if(_==="local")return b.video_url||`/storage/${S}`;if(_==="code")return b.video_code||b.embed_code||null}catch(p){return console.error("❌ Video URL error:",p),null}return null};return(b,_)=>{var S;return t(),o("div",ct,[(S=s.video.images)!=null&&S.length&&x.value!==s.video.id?(t(),o("div",dt,[(t(!0),o(B,null,A(s.video.images,(p,k)=>(t(),o("img",{key:p.id||k,src:p.url,alt:p.alt||s.video.title,loading:"lazy",class:V(["slide-fade w-full h-full object-cover",{"slide-fade-active":k===d.value}])},null,10,ut))),128)),e("div",ht,[e("button",{onClick:_[0]||(_[0]=p=>D(s.video.id)),class:"bg-white/30 hover:bg-white/40 backdrop-blur-md rounded-full p-2 border-8 border-white/30"},ft)])])):(t(),o(B,{key:1},[s.video.source_type==="code"?(t(),o("div",{key:0,class:"w-full h-full",innerHTML:I(s.video)},null,8,mt)):["youtube","vimeo"].includes(s.video.source_type)?(t(),o("iframe",{key:1,class:"w-full h-full",src:I(s.video),style:{width:"100% !important","aspect-ratio":"16 / 9 !important",display:"block !important"},frameborder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowfullscreen:"",loading:"lazy"},null,8,xt)):s.video.source_type==="local"?(t(),o("video",gt,[e("source",{src:I(s.video),type:"video/mp4"},null,8,_t),C(" "+u(a(i)("videoNotSupported")),1)])):$("",!0)],64))])}}},bt=U(pt,[["__scopeId","data-v-bf814320"]]),kt={key:0,class:"mt-4"},wt={class:"flex items-center justify-center text-center text-xs text-slate-600 dark:text-slate-400"},yt=e("svg",{class:"w-3 h-3 fill-current shrink-0 mr-1",viewBox:"0 0 16 16"},[e("path",{d:"M15 2h-2V0h-2v2H9V0H7v2H5V0H3v2H1a1 1 0 00-1 1v12a1 1 0 001 1h14a1 1 0 001-1V3a1 1 0 00-1-1zm-1 12H2V6h12v8z"})],-1),$t={key:0,class:"flex items-center tracking-wide text-xs text-black dark:text-white"},re={__name:"SidebarVideos",props:{videos:{type:Array,default:()=>[]}},setup(s){return(n,r)=>s.videos.length?(t(),o("li",kt,[e("ul",null,[(t(!0),o(B,null,A(s.videos,i=>(t(),o("li",{key:i.id,class:"mb-4 pb-4 border-b border-slate-500 dark:border-slate-100"},[h(a(g),{href:`/videos/${i.url}`},{default:m(()=>[h(bt,{video:i},null,8,["video"])]),_:2},1032,["href"]),e("div",wt,[yt,e("span",null,u(i.published_at?new Date(i.published_at).toLocaleDateString():""),1)]),h(a(g),{href:`/videos/${i.url}`,class:"my-1 block text-center text-sm font-semibold text-black dark:text-white hover:text-blue-600 dark:hover:text-blue-400 transition"},{default:m(()=>[C(u(i.title),1)]),_:2},1032,["href"]),i.short?(t(),o("p",$t,u(i.short),1)):$("",!0)]))),128))])])):$("",!0)}},Q=s=>(G("data-v-d13303d6"),s=s(),q(),s),St={class:"flex items-center justify-start"},Ct=["title"],Mt={key:0,class:"w-6 h-6 text-rose-500 dark:text-rose-400",viewBox:"0 0 24 24",fill:"currentColor"},Vt=Q(()=>e("path",{d:"M8 5v14l11-7z"},null,-1)),zt=[Vt],Bt={key:1,class:"w-6 h-6 text-rose-500 dark:text-rose-400",viewBox:"0 0 24 24",fill:"currentColor"},Lt=Q(()=>e("path",{d:"M16 5v14l-11-7z"},null,-1)),jt=[Lt],It={class:"mt-1"},Rt={class:"flex flex-col items-center justify-center"},Ht={class:"max-w-3xl"},Dt={class:"w-full h-auto shrink-0 overflow-hidden mb-2 rounded-md shadow-md shadow-gray-400 dark:shadow-gray-700"},Pt=["src","alt"],At={class:"text-slate-900 dark:text-slate-100"},Tt={class:"flex flex-col flex-grow h-auto"},Et={class:"text-xs font-semibold text-black dark:text-white my-1"},Ft={class:"flex items-center justify-center text-center text-xs font-semibold text-slate-600 dark:text-slate-400 opacity-75"},Nt=Q(()=>e("svg",{class:"w-3 h-3 fill-current shrink-0 mr-1",viewBox:"0 0 16 16"},[e("path",{d:"M15 2h-2V0h-2v2H9V0H7v2H5V0H3v2H1a1 1 0 00-1 1v12a1 1 0 001 1h14a1 1 0 001-1V3a1 1 0 00-1-1zm-1 12H2V6h12v8z"})],-1)),Ut={key:0},Ot={key:1},Yt={class:"mt-3"},Gt={class:"px-3 py-1 text-center text-xs font-semibold text-black dark:text-white hover:text-blue-600 dark:hover:text-blue-400 border border-dashed border-gray-400 dark:border-gray-200"},qt={key:1,class:"mt-3"},Zt={class:"px-3 py-1 text-center text-xs font-semibold text-black dark:text-white border border-dashed border-gray-400 dark:border-gray-200"},Jt={__name:"LeftSidebar",setup(s){const{t:n}=T(),{leftArticles:r,leftBanners:i,leftVideos:d,siteSettings:v}=P().props,f=M(()=>r||[]),c=M(()=>i||[]),x=w(!1),D=()=>{x.value=!x.value},I=M(()=>["transition-all","duration-300","p-2","w-full",x.value?"lg:w-8":"lg:w-80"].join(" ")),b=w(!1);let _;const S=()=>{b.value=document.documentElement.classList.contains("dark")};H(()=>{S(),_=new MutationObserver(S),_.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]})}),N(()=>{_&&_.disconnect()});const p=M(()=>b.value?v.PublicDarkBackgroundColor:v.PublicLightBackgroundColor),k=z=>{const j=new Date(z),l=String(j.getDate()).padStart(2,"0"),L=String(j.getMonth()+1).padStart(2,"0"),E=j.getFullYear();return`${l}.${L}.${E}`};return(z,j)=>f.value.length>0?(t(),o("aside",{key:0,class:V([I.value,p.value])},[e("div",St,[e("button",{onClick:D,class:"focus:outline-none",title:a(n)("toggleSidebar")},[x.value?(t(),o("svg",Mt,zt)):(t(),o("svg",Bt,jt))],8,Ct)]),se(e("div",It,[e("div",Rt,[e("ul",Ht,[(t(!0),o(B,null,A(f.value,l=>{var L;return t(),o("li",{key:l.id,class:"col-span-full flex flex-col items-start mb-3 p-2 overflow-hidden hover:bg-slate-50 dark:hover:bg-slate-800 hover:shadow-md hover:shadow-gray-400 dark:hover:shadow-gray-700"},[e("div",Dt,[l.img?(t(),y(a(g),{key:0,href:`/articles/${l.url}`},{default:m(()=>[e("img",{src:z.getImgSrc(l.img),alt:l.img.alt,class:"w-full h-auto object-cover",loading:"lazy"},null,8,Pt)]),_:2},1032,["href"])):(L=l.images)!=null&&L.length?(t(),y(a(g),{key:1,href:`/articles/${l.url}`},{default:m(()=>[h(oe,{images:l.images,link:`/articles/${l.url}`},null,8,["images","link"])]),_:2},1032,["href"])):(t(),y(a(g),{key:2,href:`/articles/${l.url}`,class:"flex items-center justify-center bg-gray-200 dark:bg-gray-400 h-32"},{default:m(()=>[e("span",At,u(a(n)("noCurrentImage")),1)]),_:2},1032,["href"]))]),e("div",Tt,[e("h3",Et,[h(a(g),{href:`/articles/${l.url}`,class:"hover:text-blue-600 dark:hover:text-blue-400"},{default:m(()=>[C(u(l.title),1)]),_:2},1032,["href"])]),e("div",Ft,[Nt,e("span",null,u(k(l.published_at)),1)])])])}),128)),(t(!0),o(B,null,A(c.value,l=>(t(),o("li",{key:l.id,class:"mb-3 pb-2"},[l.images&&l.images.length>0?(t(),o("div",Ut,[l.link?(t(),y(a(g),{key:0,href:l.link},{default:m(()=>[h(O,{images:l.images},null,8,["images"])]),_:2},1032,["href"])):(t(),y(O,{key:1,images:l.images},null,8,["images"]))])):$("",!0),l.title?(t(),o("div",Ot,[l.link?(t(),y(a(g),{key:0,href:l.link},{default:m(()=>[e("div",Yt,[e("h3",Gt,u(l.title),1)])]),_:2},1032,["href"])):(t(),o("div",qt,[e("h3",Zt,u(l.title),1)]))])):$("",!0)]))),128)),h(re,{videos:a(d)},null,8,["videos"])])])],512),[[le,!x.value]])],2)):$("",!0)}},Kt=U(Jt,[["__scopeId","data-v-d13303d6"]]),W=s=>(G("data-v-ee05925a"),s=s(),q(),s),Qt={class:"flex items-center justify-end"},Wt=["title"],Xt={key:0,class:"w-6 h-6 text-rose-500 dark:text-rose-400",viewBox:"0 0 24 24",fill:"currentColor"},es=W(()=>e("path",{d:"M16 5v14l-11-7z"},null,-1)),ts=[es],ss={key:1,class:"w-6 h-6 text-rose-500 dark:text-rose-400",viewBox:"0 0 24 24",fill:"currentColor"},ls=W(()=>e("path",{d:"M8 5v14l11-7z"},null,-1)),as=[ls],os={class:"mt-1"},rs={class:"flex flex-col items-center justify-center"},ns={class:"max-w-xl"},is={key:0},cs={key:1},ds={class:"mt-3"},us={class:"px-3 py-1 text-center text-xs font-semibold text-black dark:text-white hover:text-blue-600 dark:hover:text-blue-400 border border-dashed border-gray-400 dark:border-gray-200"},hs={key:1,class:"mt-3"},vs={class:"px-3 py-1 text-center text-xs font-semibold text-black dark:text-white border border-dashed border-gray-400 dark:border-gray-200"},fs={class:"w-full h-auto shrink-0 overflow-hidden mb-2 rounded-md shadow-md shadow-gray-400 dark:shadow-gray-700"},ms=["src","alt"],xs={class:"text-slate-900 dark:text-slate-100"},gs={class:"flex flex-col flex-grow h-auto"},_s={class:"text-xs font-semibold text-black dark:text-white my-1"},ps={class:"flex items-center justify-center text-center text-xs font-semibold text-slate-600 dark:text-slate-400 opacity-75"},bs=W(()=>e("svg",{class:"w-3 h-3 fill-current shrink-0 mr-1",viewBox:"0 0 16 16"},[e("path",{d:"M15 2h-2V0h-2v2H9V0H7v2H5V0H3v2H1a1 1 0 00-1 1v12a1 1 0 001 1h14a1 1 0 001-1V3a1 1 0 00-1-1zm-1 12H2V6h12v8z"})],-1)),ks={__name:"RightSidebar",setup(s){const{t:n}=T(),{rightArticles:r,rightBanners:i,rightVideos:d,siteSettings:v}=P().props,f=M(()=>r||[]),c=M(()=>i||[]),x=w(!1),D=()=>{x.value=!x.value},I=M(()=>["transition-all","duration-300","p-2","w-full",x.value?"lg:w-8":"lg:w-80"].join(" ")),b=w(!1);let _;const S=()=>{b.value=document.documentElement.classList.contains("dark")};H(()=>{S(),_=new MutationObserver(S),_.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]})}),N(()=>{_&&_.disconnect()});const p=M(()=>b.value?v.PublicDarkBackgroundColor:v.PublicLightBackgroundColor),k=z=>{const j=new Date(z),l=String(j.getDate()).padStart(2,"0"),L=String(j.getMonth()+1).padStart(2,"0"),E=j.getFullYear();return`${l}.${L}.${E}`};return(z,j)=>f.value.length>0?(t(),o("aside",{key:0,class:V([I.value,p.value])},[e("div",Qt,[e("button",{onClick:D,class:"focus:outline-none",title:a(n)("toggleSidebar")},[x.value?(t(),o("svg",Xt,ts)):(t(),o("svg",ss,as))],8,Wt)]),se(e("div",os,[e("div",rs,[e("ul",ns,[(t(!0),o(B,null,A(c.value,l=>(t(),o("li",{key:l.id,class:"mb-3 pb-2"},[l.images&&l.images.length>0?(t(),o("div",is,[l.link?(t(),y(a(g),{key:0,href:l.link},{default:m(()=>[h(O,{images:l.images},null,8,["images"])]),_:2},1032,["href"])):(t(),y(O,{key:1,images:l.images},null,8,["images"]))])):$("",!0),l.title?(t(),o("div",cs,[l.link?(t(),y(a(g),{key:0,href:l.link},{default:m(()=>[e("div",ds,[e("h3",us,u(l.title),1)])]),_:2},1032,["href"])):(t(),o("div",hs,[e("h3",vs,u(l.title),1)]))])):$("",!0)]))),128)),(t(!0),o(B,null,A(f.value,l=>{var L;return t(),o("li",{key:l.id,class:"col-span-full flex flex-col items-start mb-3 p-2 overflow-hidden hover:bg-slate-50 dark:hover:bg-slate-800 hover:shadow-md hover:shadow-gray-400 dark:hover:shadow-gray-700"},[e("div",fs,[l.img?(t(),y(a(g),{key:0,href:`/articles/${l.url}`},{default:m(()=>[e("img",{src:z.getImgSrc(l.img),alt:l.img.alt,class:"w-full h-auto object-cover",loading:"lazy"},null,8,ms)]),_:2},1032,["href"])):(L=l.images)!=null&&L.length?(t(),y(a(g),{key:1,href:`/articles/${l.url}`},{default:m(()=>[h(oe,{images:l.images,link:`/articles/${l.url}`},null,8,["images","link"])]),_:2},1032,["href"])):(t(),y(a(g),{key:2,href:`/articles/${l.url}`,class:"flex items-center justify-center bg-gray-200 dark:bg-gray-400 h-32"},{default:m(()=>[e("span",xs,u(a(n)("noCurrentImage")),1)]),_:2},1032,["href"]))]),e("div",gs,[e("h3",_s,[h(a(g),{href:`/articles/${l.url}`,class:"hover:text-blue-600 dark:hover:text-blue-400"},{default:m(()=>[C(u(l.title),1)]),_:2},1032,["href"])]),e("div",ps,[bs,e("span",null,u(k(l.published_at)),1)])])])}),128)),h(re,{videos:a(d)},null,8,["videos"])])])],512),[[le,!x.value]])],2)):$("",!0)}},ws=U(ks,[["__scopeId","data-v-ee05925a"]]),ys={class:"sticky px-4 py-0.5 bottom-0 bg-gradient-to-b from-slate-100 to-slate-300 dark:bg-gradient-to-b dark:from-slate-700 dark:to-slate-900 border-t border-slate-200 dark:border-slate-700 z-20"},$s={class:"flex items-center justify-center sm:justify-between flex-wrap"},Ss={class:"text-xs sm:text-sm text-gray-500 dark:text-gray-400"},Cs=e("a",{href:"/",target:"_blank",class:"font-semibold text-red-400 hover:text-rose-300"},"Pulsar CMS",-1),Ms=e("svg",{class:"shrink-0 h-5 w-5 mr-2",viewBox:"0 0 24 24"},[e("path",{class:"fill-current text-slate-600",d:"M19.714 14.7l-7.007 7.007-1.414-1.414 7.007-7.007c-.195-.4-.298-.84-.3-1.286a3 3 0 113 3 2.969 2.969 0 01-1.286-.3z"}),e("path",{class:"fill-current text-slate-400",d:"M10.714 18.3c.4-.195.84-.298 1.286-.3a3 3 0 11-3 3c.002-.446.105-.885.3-1.286l-6.007-6.007 1.414-1.414 6.007 6.007z"}),e("path",{class:"fill-current text-slate-600",d:"M5.7 10.714c.195.4.298.84.3 1.286a3 3 0 11-3-3c.446.002.885.105 1.286.3l7.007-7.007 1.414 1.414L5.7 10.714z"}),e("path",{class:"fill-current text-slate-400",d:"M19.707 9.292a3.012 3.012 0 00-1.415 1.415L13.286 5.7c-.4.195-.84.298-1.286.3a3 3 0 113-3 2.969 2.969 0 01-.3 1.286l5.007 5.006z"})],-1),Vs=e("svg",{class:"w-4 h-4 fill-current text-red-400 shrink-0 mr-2",viewBox:"0 0 16 16"},[e("path",{d:"M4.3 4.5c1.9-1.9 5.1-1.9 7 0 .7.7 1.2 1.7 1.4 2.7l2-.3c-.2-1.5-.9-2.8-1.9-3.8C10.1.4 5.7.4 2.9 3.1L.7.9 0 7.3l6.4-.7-2.1-2.1zM15.6 8.7l-6.4.7 2.1 2.1c-1.9 1.9-5.1 1.9-7 0-.7-.7-1.2-1.7-1.4-2.7l-2 .3c.2 1.5.9 2.8 1.9 3.8 1.4 1.4 3.1 2 4.9 2 1.8 0 3.6-.7 4.9-2l2.2 2.2.8-6.4z"})],-1),zs={class:"flex items-center space-x-2"},Bs={href:"https://t.me/k_a_v_www",target:"_blank",class:"flex items-center space-x-2 text-blue-500 hover:text-blue-700 dark:text-blue-300 dark:hover:text-blue-500"},Ls=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",class:"w-5 h-5 sm:w-6 sm:h-6"},[e("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.175 8.89l-1.4 6.63c-.105.467-.405.578-.82.36l-2.27-1.67-1.093 1.054c-.12.12-.222.222-.45.222l.168-2.39 4.35-3.923c.19-.168-.04-.263-.29-.095L8.78 11.167l-2.42-.76c-.464-.14-.474-.464.096-.684l9.452-3.65c.44-.16.82.108.66.717z"})],-1),js={class:"text-xs sm:text-sm text-gray-500 dark:text-gray-400"},Is={__name:"Footer",props:{canLogin:Boolean,canRegister:Boolean},setup(s){const{t:n,locale:r}=T(),{auth:i}=P().props,d=w(r.value);Y(d,f=>{if(f!==r.value){r.value=f;const c=window.location.pathname.split("/");c[1]=f;const x=c.join("/")+window.location.search;ee.Inertia.visit(x,{preserveState:!1,preserveScroll:!0})}});const v=async()=>{try{await be.post("/admin/cache/clear"),console.log("Кэш успешно очищен!"),window.location.reload()}catch(f){console.error("Ошибка при очистке кэша:",f)}};return(f,c)=>(t(),o("footer",ys,[e("div",$s,[e("div",Ss,[C(" © "+u(new Date().getFullYear())+" ",1),Cs,C(" "+u(a(n)("allRightsReserved")),1)]),a(i).user?(t(),y(a(g),{key:0,href:f.route("admin.index"),title:a(n)("administer"),class:"flex items-center px-3 py-1 text-md font-semibold text-orange-400 hover:text-rose-300 dark:text-violet-400 dark:hover:text-white focus:outline focus:outline-2 focus:rounded-sm focus:outline-red-500"},{default:m(()=>[Ms,C(" "+u(a(n)("administer")),1)]),_:1},8,["href","title"])):$("",!0),e("button",{onClick:v,class:"flex items-center btn px-3 text-slate-900 dark:text-slate-100 rounded-sm border-2 border-slate-400 my-2 mx-1 sm:my-0 sm:mx-0"},[Vs,C(" "+u(a(n)("clearCache")),1)]),e("div",zs,[e("a",Bs,[Ls,e("span",js,u(a(n)("supportService")),1)]),h(ae,{modelValue:d.value,"onUpdate:modelValue":c[0]||(c[0]=x=>d.value=x)},null,8,["modelValue"])])])]))}},Rs={class:"min-h-screen flex justify-center flex-col lg:flex-row tracking-wider"},Fs={__name:"DefaultLayout",props:{title:String,canLogin:Boolean,canRegister:Boolean,laravelVersion:String,phpVersion:String},setup(s){const{siteSettings:n}=P().props,{props:r}=P();return(i,d)=>(t(),o(B,null,[h(a(fe),{title:s.title},null,8,["title"]),h(st,{"can-login":s.canLogin,"can-register":s.canRegister},null,8,["can-login","can-register"]),e("main",Rs,[!a(n).ViewLeftColumn||a(n).ViewLeftColumn==="true"?(t(),y(Kt,{key:0})):$("",!0),me(i.$slots,"default"),!a(n).ViewRightColumn||a(n).ViewRightColumn==="true"?(t(),y(ws,{key:1})):$("",!0)]),h(Is,{"can-login":s.canLogin,"can-register":s.canRegister},null,8,["can-login","can-register"]),h(pe)],64))}};export{bt as V,Fs as _,oe as a};
