import{u as M,Q as S,G as v,l as A,z as D,a4 as L,e as j,o,w as d,i as _,f as e,k as t,aU as N,t as n,q as T,m as i,n as c,J as f,p as h,F as $,v as C}from"./vendor-BxBIhlnJ.js";import{_ as V}from"./DefaultLayout-B9BWOsR_.js";import{A as F,_ as O}from"./ArticleImageMain-CpmlKBZD.js";import"./vendor-axios-jn5v1YEJ.js";import"./vendor-lodash-BkjH9gY7.js";import"./ResponsiveNavLink-De0bHo2I.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./LogoutButton-154m7eOH.js";import"./LocaleSelectOption-C-FbJBp9.js";import"./app-T6LOBsMh.js";const P=["content"],E=["content"],U=["content"],z=["content"],H=e("meta",{name:"viewport",content:"width=device-width, initial-scale=1"},null,-1),R=["content"],q=["content"],G=e("meta",{property:"og:type",content:"article"},null,-1),J=["content"],Q=["content"],Y=["content"],Z=e("meta",{name:"twitter:card",content:"summary_large_image"},null,-1),K=["content"],W=["content"],X=["content"],tt=["content"],et=["content"],st=["content"],ot={class:"text-sm","aria-label":"Breadcrumb"},nt={class:"list-reset flex items-center space-x-0"},at=e("li",null,[e("span",{class:"mx-1 text-slate-900 dark:text-slate-100"},"/")],-1),it={class:"text-slate-900 dark:text-slate-100"},lt=["datetime"],ct={class:"flex flex-row items-center justify-center my-1"},rt={itemprop:"headline",class:"flex items-center justify-center my-2 text-center font-bolder text-xl text-slate-900 dark:text-slate-100"},mt={class:"ml-2 w-6 h-5 flex items-center justify-center rounded-full text-[9px] font-semibold text-black dark:text-white bg-slate-100 dark:bg-slate-700",itemprop:"interactionStatistic",itemscope:"",itemtype:"http://schema.org/InteractionCounter"},dt=e("meta",{itemprop:"interactionType",content:"http://schema.org/ViewAction"},null,-1),_t=["content","title"],ut={key:0,class:"flex flex-col justify-center items-center",itemprop:"image",itemscope:"",itemtype:"https://schema.org/ImageObject"},ht=e("meta",{itemprop:"width",content:"800"},null,-1),pt=e("meta",{itemprop:"height",content:"600"},null,-1),gt={key:1,class:"flex flex-col justify-center items-center",itemprop:"image",itemscope:"",itemtype:"https://schema.org/ImageObject"},xt=["src","alt"],ft=e("meta",{itemprop:"width",content:"800"},null,-1),yt=e("meta",{itemprop:"height",content:"600"},null,-1),kt={key:2,class:"flex flex-col justify-center items-center",itemprop:"image",itemscope:"",itemtype:"https://schema.org/ImageObject"},wt=e("img",{src:"/article_images/default-image.png",alt:"No image available",class:"w-full h-full object-cover opacity-40 shadow-md shadow-gray-600 dark:shadow-gray-900"},null,-1),bt=e("meta",{itemprop:"width",content:"800"},null,-1),vt=e("meta",{itemprop:"height",content:"600"},null,-1),jt=[wt,bt,vt],$t={key:3,class:"mt-2 text-start text-xs text-gray-600 dark:text-gray-300",itemprop:"caption"},Ct={key:4,class:"flex items-center justify-center my-3"},Bt={itemprop:"description",class:"text-sm font-semibold text-black dark:text-white mr-2"},It=["innerHTML"],Mt={key:6,class:"flex justify-start items-center mb-3 font-semibold italic"},St={key:0},At={class:"flex justify-center items-center"},Dt={key:0,class:"font-semibold text-sm text-black dark:text-white",itemprop:"author"},Lt={class:"mr-2 text-sky-600 dark:text-sky-300"},Nt={key:7,class:"mt-4"},Tt={class:"mb-4 tracking-wide text-center font-semibold text-lg text-black dark:text-white"},Vt={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 xl:grid-cols-2 gap-3"},Ft={class:"relative w-full"},Ot={class:"w-full aspect-[4/3] overflow-hidden"},Pt=["src","alt"],Et={key:1,class:"w-full h-full flex items-center justify-center bg-gray-200 dark:bg-gray-400"},Ut={class:"text-gray-500 dark:text-gray-700"},zt={class:"absolute bottom-0 left-0 w-full px-2 pt-1 bg-slate-800 bg-opacity-75"},Ht={class:"text-xs font-semibold leading-5 tracking-wider text-slate-100 hover:text-amber-200"},Rt={class:"mb-1 text-xs font-semibold text-yellow-200 text-center"},se={__name:"Show",setup(qt){const{t:r}=M(),{article:s,recommendedArticles:p,siteSettings:y}=S().props,g=v(()=>{var l;return((l=s.tags)==null?void 0:l.filter(m=>m.activity))||[]}),k=A(!1);let u;const w=()=>{k.value=document.documentElement.classList.contains("dark")};D(()=>{w(),u=new MutationObserver(w),u.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]})}),L(()=>{u&&u.disconnect()});const B=v(()=>k.value?y.PublicDarkBackgroundColor:y.PublicLightBackgroundColor),b=l=>{const m=new Date(l),a=String(m.getDate()).padStart(2,"0"),x=String(m.getMonth()+1).padStart(2,"0"),I=m.getFullYear();return`${a}.${x}.${I}`};return(l,m)=>(o(),j(V,{title:t(s).title,"can-login":l.$page.props.canLogin,"can-register":l.$page.props.canRegister},{default:d(()=>[_(t(N),null,{default:d(()=>[e("title",null,n(t(s).title),1),e("meta",{name:"title",content:t(s).title||""},null,8,P),e("meta",{name:"description",content:t(s).meta_desc||""},null,8,E),e("meta",{name:"keywords",content:t(s).meta_keywords||""},null,8,U),e("meta",{name:"author",content:t(s).author||""},null,8,z),H,e("meta",{property:"og:title",content:t(s).title||""},null,8,R),e("meta",{property:"og:description",content:t(s).meta_desc||""},null,8,q),G,e("meta",{property:"og:url",content:`/articles/${t(s).url}`},null,8,J),e("meta",{property:"og:image",content:t(s).images&&t(s).images.length>0?t(s).images[0].url:""},null,8,Q),e("meta",{property:"og:locale",content:t(s).locale||"ru_RU"},null,8,Y),Z,e("meta",{name:"twitter:title",content:t(s).title||""},null,8,K),e("meta",{name:"twitter:description",content:t(s).meta_desc||""},null,8,W),e("meta",{name:"twitter:image",content:t(s).images&&t(s).images.length>0?t(s).images[0].url:""},null,8,X),e("meta",{itemprop:"name",content:t(s).title||""},null,8,tt),e("meta",{itemprop:"description",content:t(s).meta_desc||""},null,8,et),e("meta",{itemprop:"image",content:t(s).images&&t(s).images.length>0?t(s).images[0].url:""},null,8,st)]),_:1}),e("article",{itemscope:"",itemtype:"https://schema.org/BlogPosting",class:T(["flex-1 p-4 selection:bg-red-400 selection:text-white",B.value])},[e("nav",ot,[e("ol",nt,[e("li",null,[_(t(f),{href:"/",class:"hover:underline text-slate-900 dark:text-slate-100"},{default:d(()=>[h(n(t(r)("home")),1)]),_:1})]),at,e("li",it,n(t(s).title),1)])]),e("header",null,[e("time",{itemprop:"datePublished",datetime:b(t(s).published_at),class:"mt-2 flex items-center justify-center text-xs font-semibold text-center text-slate-600 dark:text-slate-400 opacity-75"},n(t(r)("publishedAt"))+": "+n(b(t(s).published_at)),9,lt),e("div",ct,[e("h1",rt,n(t(s).title),1),e("div",mt,[dt,e("meta",{itemprop:"userInteractionCount",content:t(s).views,title:t(r)("views")},null,8,_t),h(" "+n(t(s).views),1)])])]),t(s).images&&t(s).images.length>1?(o(),i("div",ut,[_(F,{images:t(s).images,link:`/articles/${t(s).url}`,class:"max-w-4xl"},null,8,["images","link"]),ht,pt])):t(s).images&&t(s).images.length===1?(o(),i("div",gt,[e("img",{src:t(s).images[0].webp_url||t(s).images[0].url,alt:t(s).images[0].alt,class:"w-full h-full object-cover shadow-md shadow-gray-600 dark:shadow-gray-900"},null,8,xt),ft,yt])):(o(),i("div",kt,jt)),t(s).images[0].caption?(o(),i("div",$t,n(t(s).images[0].caption),1)):c("",!0),t(s).short?(o(),i("div",Ct,[e("p",Bt,n(t(s).short),1)])):c("",!0),t(s).description?(o(),i("div",{key:5,class:"w-full mx-auto my-4 dark:text-slate-200",innerHTML:t(s).description,itemprop:"articleBody"},null,8,It)):c("",!0),g.value.length?(o(),i("div",Mt,[(o(!0),i($,null,C(g.value,(a,x)=>(o(),i("span",{key:a.id},[_(t(f),{href:`/tags/${a.slug}`,itemprop:"keywords",class:"text-sm text-blue-500 dark:text-violet-300 hover:text-rose-400 hover:dark:text-rose-300"},{default:d(()=>[h(n(a.name),1)]),_:2},1032,["href"]),x<g.value.length-1?(o(),i("span",St,",Â ")):c("",!0)]))),128))])):c("",!0),e("div",At,[t(s).author?(o(),i("div",Dt,[h(n(t(r)("postAuthor"))+": ",1),e("span",Lt,n(t(s).author),1)])):c("",!0),_(O)]),t(p)&&t(p).length>0?(o(),i("div",Nt,[e("h2",Tt,n(t(r)("relatedArticles"))+": ",1),e("div",Vt,[(o(!0),i($,null,C(t(p),a=>(o(),j(t(f),{href:`/articles/${a.url}`,key:a.id,class:"shadow-md shadow-gray-400 dark:shadow-gray-900"},{default:d(()=>[e("div",Ft,[e("div",Ot,[a.images&&a.images.length>0?(o(),i("img",{key:0,src:a.images[0].webp_url||a.images[0].url,alt:a.images[0].alt,class:"w-full h-full object-cover"},null,8,Pt)):(o(),i("div",Et,[e("span",Ut,n(t(r)("noCurrentImage")),1)]))]),e("div",zt,[e("div",Ht,n(a.title),1),e("div",Rt,n(a.published_at.substring(0,10)),1)])])]),_:2},1032,["href"]))),128))])])):c("",!0)],2)]),_:1},8,["title","can-login","can-register"]))}};export{se as default};
